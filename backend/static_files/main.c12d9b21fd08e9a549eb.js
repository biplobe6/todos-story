(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./app/Styles/app.scss":function(t,e,n){},"./app/index.js":function(t,e,n){"use strict";n.r(e);function r(t){var e=t.turnOnModal;return v.a.createElement("button",{title:"Add Project",id:"add-project-button","data-target-modal":"project","data-back-drop":"true",onClick:e},v.a.createElement("div",{className:"content"},"+"))}var b=n("./node_modules/react/index.js"),v=n.n(b),o=n("./node_modules/react-dom/index.js"),a=n.n(o),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/prop-types/index.js"),u=n.n(c),k=(n("./app/Styles/app.scss"),"ADD-PROJECT"),_="DELETE-PROJECT",C="UPDATE-PROJECT",R="GET-PROJECT-LIST",p="MODAL-TURN-ON",H="GET-TODO-LIST",x="ADD-TODO",A="UPDATE-TODO",I="DELETE-TODO",M="DRAGGING-TODO",N="MOVE-TODO";r.propTypes={};var s={turnOnModal:function(e){return function(t){t({type:p,payload:{data:e}})}}},l=Object(i.b)(null,s)(r),f=n("./node_modules/lodash/get.js"),d=n.n(f),y=n("./node_modules/lodash/isFunction.js"),h=n.n(y),m=n("./node_modules/lodash/isString.js"),g=n.n(m),O=n("./node_modules/lodash/isArray.js"),w=n.n(O);function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||D(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function P(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function L(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach(function(t){var e,n,r;e=o,r=a[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(a,t))})}return o}function U(t){var r=t.config,o=t.method,e=t.oldPayload,a=t.dispatch,n=t.isInvalidReduxRequest,i=E(t,["config","method","oldPayload","dispatch","isInvalidReduxRequest"]),c=i.response,u=L({data:function(t){var e=t.oldPayload,n=t.response,r=d()(n,"data.results",d()(n,"data",!1));if(!w()(r))return r;if(!d()(e,"hasMore",!1))return r;var o=d()(e,"data",!1);return w()(o)?[].concat(P(o),P(r)):r}({oldPayload:e,response:c}),loading:!1,error:!1,hasMore:Boolean(d()(c,"data.next",!1)),loadMore:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var e=t.payload,n=t.method,r=t.config,o=void 0===r?{}:r,a=t.response,i=t.dispatch,c=t.loadMoreArgs;if(e.hasMore){var u=a.data.next,s=B(L(L({},o),{},{BASE_URL:"",url:u,type:n,isUrlString:!0,isUrlFunc:!1}));return G(L(L({},o),{},{apiType:n,config:o,axiosRequest:s,oldPayload:e,oldDispatch:i})).apply(void 0,P(c))}}({payload:u,method:o,config:r,response:c,dispatch:a,loadMoreArgs:e})},getData:function(t,e){return t?d()(u.data,t,e):u.data},is:{success:null,error:null,forbidden:null}},i);return u.is.success=!u.loading&&!u.error&&c&&c.status>=K&&c.status<Z,u.is.error=!u.loading&&!c&&u.error&&u.error.response,u.is.forbidden=u.is.error&&u.error.response.status==X,!n&&a?void a(u):u}function F(t,e,n,r){var o,a=0<arguments.length&&void 0!==t?t:[],i=1<arguments.length?e:void 0,c=2<arguments.length?n:void 0,u=!(3<arguments.length&&void 0!==r)||r;return 1<a.length&&(i<(o=function(t,e,n,r){for(var o=0<arguments.length&&void 0!==t?t:[],a=1<arguments.length?e:void 0,i=2<arguments.length?n:void 0,c=!(3<arguments.length&&void 0!==r)||r,u=o[Math.floor((i+a)/2)].position,s=a,l=i;s<=l;){for(;c?o[s].position<u:o[s].position>u;)s++;for(;c?o[l].position>u:o[l].position<u;)l--;s<=l&&(function(t,e,n){var r=0<arguments.length&&void 0!==t?t:[],o=1<arguments.length?e:void 0,a=2<arguments.length?n:void 0,i=r[o];r[o]=r[a],r[a]=i}(o,s,l),s++,l--)}return s}(a,i,c,u))-1&&F(a,i,o-1,u),o<c&&F(a,o,c,u)),a}function q(t,e){var n=0<arguments.length&&void 0!==t?t:[],r=!(1<arguments.length&&void 0!==e)||e;1<n.length&&F(n,0,n.length-1,r)}var K=200,Z=300,X=403,B=function(t){var v=t.BASE_URL,g=t.url,O=t.type,w=t.axios,j=t.isUrlString,E=t.isUrlFunc,P=t.reservedParams;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,o,a,i,c,u,s=S((r=e,o=0,a=null,["post","patch","put"].includes(O)&&(a=0,o=1),[r[a],r[o]]),2),l=s[0],f=s[1],p=null!=l,d=f||{},y=l||{},h=[],m=v,b={params:E?(i=d,c=P,u={},Object.keys(i).forEach(function(t){c.includes(t)||(u[t]=i[t])}),u):d};return j&&(m+=g),E&&(m+=g(d)),h.push(m),p&&h.push(y),h.push(b),w[O].apply(w,h)}},G=function(t){var e=t.API,n=t.isInvalidReduxRequest,r=t.oldDispatch,o=t.apiType,a=t.ACTION_LIST,i=t.config,c=t.axiosRequest,u=t.oldPayload,s=e[o];null==c&&(c=s);function l(t){var e=j({},t);return U(L({config:i,oldPayload:u,method:o,isInvalidReduxRequest:n},e))}function f(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return new Promise(function(e,n){c.apply(void 0,r).then(function(t){e(l({response:t}))}).catch(function(t){n(l({error:t}))})})}if(n)return f;function p(){for(var t=arguments.length,o=new Array(t),e=0;e<t;e++)o[e]=arguments[e];return function(n,r){function e(t){var e=j({},t);return l(L({type:d,dispatch:n,store:r()},e))}e({loading:!0}),c.apply(void 0,o).then(function(t){e({response:t})}).catch(function(t){e({error:t})})}}var d=a[o];return r?function(){return p.apply(void 0,arguments)(r)}:Object.assign(p,{reduxAction:p,axiosRequest:f,actionType:d})},J=function(t){var s=t.axios,e=t.urlPrefix,l=void 0===e?"":e,f={};return{registerApi:function(t){var e,n,r=t.url,o=t.actionType,a=void 0===o?"":o,i=t.stateName,c=void 0===i?"":i,u={axios:s,urlPrefix:l,RootReducer:f,url:r,actionType:a,stateName:c,BASE_URL:l,isUrlString:g()(r),isUrlFunc:h()(r),reservedParams:[],isInvalidReduxRequest:""==a||""==c,ACTION_LIST:{get:"".concat(a,"_GET"),delete:"".concat(a,"_DELETE"),post:"".concat(a,"_POST"),patch:"".concat(a,"_PATCH"),put:"".concat(a,"_PUT")},API:{},ACTION:{get:function(t){},delete:function(t){},post:function(t,e){},patch:function(t,e){},put:function(t,e){}}};return u.isUrlFunc&&(u.reservedParams=(e=u.url,n=[],e(new Proxy({},{get:function(t,e){return n.push(e),t[e]}})),n)),u.API={get:B(L(L({},u),{},{type:"get"})),delete:B(L(L({},u),{},{type:"delete"})),post:B(L(L({},u),{},{type:"post"})),patch:B(L(L({},u),{},{type:"patch"})),put:B(L(L({},u),{},{type:"put"}))},u.ACTION={get:G(L(L({},u),{},{config:u,apiType:"get"})),delete:G(L(L({},u),{},{config:u,apiType:"delete"})),post:G(L(L({},u),{},{config:u,apiType:"post"})),patch:G(L(L({},u),{},{config:u,apiType:"patch"})),put:G(L(L({},u),{},{config:u,apiType:"put"}))},u.isInvalidReduxRequest?L({},u.ACTION):(f[c]=function(t){var n=(0<arguments.length&&void 0!==t?t:{}).ACTION_LIST,r=U({});return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r,e=1<arguments.length?arguments[1]:void 0;switch(e.type){case n.get:return e;default:return t}}}(L({},u)),L(L({},u.ACTION),{},{stateName:u.stateName,getState:function(t){return t[u.stateName]}}))},getReducer:function(){return f}}},W=n("./node_modules/axios/index.js"),$=J({urlPrefix:"/api/v1",axios:n.n(W).a.create({baseURL:"/",xsrfHeaderName:"X-CSRFToken",xsrfCookieName:"csrftoken"})}).registerApi,z={projects:$({url:"/project"}),project:$({url:function(t){var e=t.alias;return"/project/".concat(e)}}),projectExport:$({url:function(t){var e=t.alias;return"/project/export/".concat(e)}}),projectImport:$({url:function(t){var e=t.alias;return"/project/import/".concat(e)}}),todos:$({url:"/todo"}),todo:$({url:function(t){var e=t.alias;return"/todo/".concat(e)}}),startTodo:$({url:function(t){var e=t.alias;return"/todo/start/".concat(e)}}),stopTodo:$({url:function(t){var e=t.alias;return"/todo/stop/".concat(e)}})},Q=n("./node_modules/redux-thunk/es/index.js"),Y=n("./node_modules/redux/es/redux.js");function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=ot(a);return e=i?(t=ot(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==tt(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),t}function ut(t){var n=0<arguments.length&&void 0!==t?t:pt;return function(){et(e,n);var t=rt(e);function e(){return at(this,e),t.apply(this,arguments)}return ct(e,[{key:"updateProgress",value:function(t,r){var o=r.progress=0;t.forEach(function(t){var e=t.duration;o+=e}),t.forEach(function(t){var e=t.progress,n=t.duration;r.progress+=n/o*e})}},{key:"updateRootProgress",value:function(){this.updateProgress(this.todos,this)}},{key:"updateParentProgress",value:function(t){var e=this.todosHash[t];this.updateProgress(e.subTask,e),e.parent?this.updateParentProgress(e.parent):this.updateRootProgress()}},{key:"addDefaultProgressHigh",value:function(t){t.progress=100}},{key:"addToProgress",value:function(t){t.done?this.addDefaultProgressHigh(t):this.updateProgress(t.subTask,t),t.parent?this.updateParentProgress(t.parent):this.updateRootProgress()}}]),e}()}function st(t){var n=0<arguments.length&&void 0!==t?t:pt;return function(){et(e,ut(n));var t=rt(e);function e(){return at(this,e),t.apply(this,arguments)}return ct(e,[{key:"updateProgress",value:function(t,r){var o=r._progress=0;t.forEach(function(t){var e=t.duration;o+=e}),t.forEach(function(t){var e=t._progress,n=t.duration;r._progress+=n/o*e}),r.progress=parseInt(10*r._progress)/10}},{key:"addDefaultProgressHigh",value:function(t){t.progress=100,t._progress=100}}]),e}()}function lt(t){var e=0<arguments.length&&void 0!==t?t:pt;return function(){et(r,e);var n=rt(r);function r(t){var e;return at(this,r),(e=n.call(this,t)).ascOrder=!0,e}return ct(r,[{key:"sort",value:function(t){q(t,this.ascOrder)}}]),r}()}var ft=function(){function t(){at(this,t),this.todos=[],this.todosHash={},this.updatedAt=(new Date).getTime(),this.progress=0}return ct(t,[{key:"updateProgress",value:function(){}},{key:"updateRootProgress",value:function(){}},{key:"updateParentProgress",value:function(){}},{key:"addToProgress",value:function(){}},{key:"sort",value:function(){}},{key:"sortAll",value:function(){}}]),t}(),pt=function(){et(e,ft);var t=rt(e);function e(){return at(this,e),t.apply(this,arguments)}return ct(e,[{key:"sortAll",value:function(){var n=this;this.updatedAt=(new Date).getTime(),function e(t){n.sort(t),t.forEach(function(t){t.updatedAt=n.updatedAt,e(t.subTask)})}(this.todos)}},{key:"setUpdatedAt",value:function(t,e){var n,r=(0<arguments.length&&void 0!==t?t:{}).alias,o=(1<arguments.length?e:void 0)||{updatedAt:(new Date).getTime()},a=this.todosHash[r];a?(Object.assign(a,o),(n=this.todosHash[a.parent])&&n.alias?this.setUpdatedAt(n,o):this.updatedAt=o.updatedAt):this.updatedAt=o.updatedAt}},{key:"getTodo",value:function(t){var e=t.alias;return this.todosHash[e]}},{key:"addTodo",value:function(t){var e,n=Object.assign({},t),r=this.todosHash[n.alias];r?Object.assign(n,r):this.todosHash[n.alias]=n,n.subTask||(n.subTask=[]),n.parent?((e=this.todosHash[n.parent])||(e={subTask:[]},this.todosHash[n.parent]=e),e.subTask.push(n),this.sort(e.subTask)):(this.todos.push(n),this.sort(this.todos)),this.addToProgress(n),this.setUpdatedAt(n)}},{key:"deleteTodo",value:function(t){var e,n,r=t.alias,o=this.todosHash[r];o.parent?(n=(e=this.todosHash[o.parent]).subTask.findIndex(function(t){return t.alias==r}),e.subTask.splice(n,1),this.updateParentProgress(o.parent),this.setUpdatedAt({alias:o.parent})):(n=this.todos.findIndex(function(t){return t.alias==r}),this.todos.splice(n,1),this.updateRootProgress(),this.setUpdatedAt()),delete this.todosHash[r]}},{key:"updateTodo",value:function(t){var e=this.todosHash[t.alias],n=Object.assign({},e,t);this.deleteTodo({alias:n.alias}),this.addTodo(n)}}]),e}(),dt=function(){et(e,lt(st(pt)));var t=rt(e);function e(){return at(this,e),t.apply(this,arguments)}return e}();function yt(t){return function(t){if(Array.isArray(t))return ht(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mt(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach(function(t){vt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(){var t=new dt;return t.ascOrder=!1,t}function Ot(t,e){var n=e.payload.data;return t.prms[n.project].updateTodo(n),bt(bt({},t),{},{list:yt(t.list)})}var wt={prms:{},list:[],draggingTodo:null},jt={list:[],hash:{},idList:[]},Et=n("./node_modules/shortid/index.js");function Pt(t){return function(t){if(Array.isArray(t))return St(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dt(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach(function(t){kt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _t,Ct={data:{},order:[],activeModal:null},Rt=Object(Y.c)({project:function(t,e){var n,r,o,a,i,c,u,s,l,f,p,d,y,h,m,b,v,g,O,w,j,E,P,S,D=0<arguments.length&&void 0!==t?t:wt,T=1<arguments.length?e:void 0;switch(T.type){case R:return j=D,E=T.payload.data,P={},S=E.map(function(t){var e=gt();return P[t.alias]=e,bt(bt({},t),{},{prm:e})}),bt(bt({},j),{},{list:yt(S),prms:P});case k:return v=D,g=T.payload.data,O=gt(),w=bt(bt({},g),{},{prm:O}),bt(bt({},v),{},{prms:bt(bt({},v.prm),{},vt({},g.alias,O)),list:[].concat(yt(v.list),[w])});case C:return h=D,m=T.payload.data,b=h.list.findIndex(function(t){return t.alias==m.alias}),h.list[b]=bt(bt({},h.list[b]),m),bt(bt({},h),{},{list:yt(h.list)});case _:return function(t,e){var n=e.payload.data;delete t.prms[n.alias];var r=t.list.filter(function(t){return t.alias!=n.alias});return bt(bt({},t),{},{prms:bt({},t.prms),list:yt(r)})}(D,T);case H:return c=D,u=T.payload,s=u.data,l=u.project,f=c.prms,p=c.list,d=gt(),y=p.findIndex(function(t){return t.alias==l.alias}),p[y]=bt(bt({},l),{},{prm:d}),s.forEach(function(t){d.addTodo(t)}),bt(bt({},c),{},{prms:bt(bt({},f),{},vt({},l.alias,d)),list:yt(p)});case x:return a=D,i=T.payload.data,a.prms[i.project].addTodo(i),bt(bt({},a),{},{list:yt(a.list)});case I:return r=D,o=T.payload.data,r.prms[o.project].deleteTodo(o),bt(bt({},r),{},{list:yt(r.list)});case A:return Ot(D,T);case M:return n=T,bt(bt({},D),{},{draggingTodo:n.payload.data});case N:return Ot(D,T);default:return D}},todo:function(t,e){var n=0<arguments.length&&void 0!==t?t:jt;return(1<arguments.length?e:void 0).type,n},modals:function(t,e){var n,r,o,a,i,c,u,s,l=0<arguments.length&&void 0!==t?t:Ct,f=1<arguments.length?e:void 0;switch(f.type){case p:return n=l,r=f.payload.data.currentTarget,o=r.dataset,a=r.data,i=o.targetModal,c=o.backDrop,u=Object(Et.generate)(),s={targetModal:i,id:u,backDrop:Boolean("true"==c),data:a||null},Tt(Tt({},n),{},{activeModal:s,data:Tt(Tt({},n.data),{},kt({},u,s)),order:[].concat(Pt(n.order),[u])});default:return l}}}),Ht=window.__REDUX_DEVTOOLS_EXTENSION__?Object(Y.e)(Rt,Object(Y.d)(Object(Y.a)(Q.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):Object(Y.e)(Rt,Object(Y.a)(Q.a)),xt=Ht;function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(a){var i=Lt();return function(){var t,e,n,r,o=Ft(a);return e=i?(t=Ft(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==At(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function Nt(t){var r="function"==typeof Map?new Map:void 0;return(Nt=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return Vt(t,arguments,Ft(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ut(n,t)})(t)}function Vt(t,e,n){return(Vt=Lt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Ut(o,n.prototype),o}).apply(null,arguments)}function Lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qt(t){var e=t.todoToMove,n=t.referenceTodo;return t.direction!=Bt&&e.parent==n.parent}function Kt(t){var e=t.referenceTodo,n=t.todoToMove,r=t.targetTodoList,o=r.findIndex(function(t){return t.alias==n.alias}),a=e.position,i=r.findIndex(function(t){return t.alias==e.alias}),c=i-1,u=r[c],s=(u||{position:null}).position,l=i+1,f=r[l];return{nextTodo:f,nextTodoIndex:l,nextTodoPosition:(f||{position:null}).position,todoIndex:o,refrenceTodoIndex:i,refrenceTodoPosition:a,previousTodo:u,previousTodoIndex:c,previousTodoPosition:s}}var Zt="up",Xt="down",Bt="child",Gt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(o,Nt(Error));var r=Mt(o);function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e,n="at index '".concat(t,"'");return(e=r.call(this,n)).position=t,e.name="SamePositionException",e.message=n,e}return o}(),Jt=(It(_t={},Zt,function(t){var e=Kt(t),n=e.previousTodoPosition,r=e.todoIndex,o=e.previousTodoIndex,a=e.refrenceTodoPosition;if(qt(t)&&-1!=r&&r==o)throw new Gt(r);return null==n?a/2:(a+n)/2}),It(_t,Xt,function(t){var e=Kt(t),n=e.nextTodoPosition,r=e.todoIndex,o=e.nextTodoIndex,a=e.refrenceTodoPosition;if(qt(t)&&-1!=r&&r==o)throw new Gt(r);return null==n?a+1:(a+n)/2}),It(_t,Bt,function(){return 1}),_t);function Wt(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function $t(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(a),!0).forEach(function(t){var e,n,r;e=o,r=a[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):Wt(Object(a)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(a,t))})}return o}function zt(n){return function(e){z.todos.get({project:n.alias}).then(function(t){e({type:H,payload:{project:n,data:t.getData()}})}).catch(function(t){console.error(t)})}}function Qt(t){var n=t.id,e=t.error,r=t.name,o=t.helpText;return e&&e[r]&&e[r].map(function(t,e){return v.a.createElement("small",{id:"".concat(n,"-help-").concat(e),key:t,className:"form-text text-danger"},t)})||o&&v.a.createElement("small",{id:"".concat(n,"-help"),className:"form-text text-muted"},o)||null}Qt.propTypes={error:u.a.any,helpText:u.a.string,id:u.a.string.isRequired,name:u.a.string.isRequired};var Yt=Qt;function te(){return(te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ee(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function ne(t){t.error,t.helpText;var e=t.id,n=t.label,r=ee(t,["error","helpText","id","label"]);return v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:e},n),v.a.createElement("input",te({id:e,className:"form-control","aria-describedby":"".concat(e,"-help")},r)),v.a.createElement(Yt,t))}ne.defaultProps={type:"text"},ne.propTypes={name:u.a.string.isRequired,id:u.a.string.isRequired,type:u.a.string,title:u.a.string,placeholder:u.a.string,value:u.a.any,onChange:u.a.func,helpText:u.a.string};var re=ne;function oe(){return(oe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ae(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function ie(t){var e=t.id,n=t.label,r=(t.error,t.helpText,ae(t,["id","label","error","helpText"]));return v.a.createElement("div",{className:"form-group"},v.a.createElement("label",{htmlFor:e},n),v.a.createElement("textarea",oe({className:"form-control",id:e},r)),v.a.createElement(Yt,t))}ie.propTypes={id:u.a.string.isRequired,label:u.a.string.isRequired};var ce=ie;function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(){return(se=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function le(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach(function(t){pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=be(a);return e=i?(t=be(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==ue(r)&&"function"!=typeof r?me(n):r}}function me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ve(){}var ge=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(o,b["Component"]);var t,e,n,r=he(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).changeHandler=e.changeHandler.bind(me(e)),e.submitHandler=e.submitHandler.bind(me(e)),e.titleField=e.titleField.bind(me(e)),e.descriptionField=e.descriptionField.bind(me(e)),e.assetsDirField=e.assetsDirField.bind(me(e)),e.state={loading:!1,done:!1,error:!1,form:{title:"",description:"",assets_dir:""}},e}return t=o,(e=[{key:"componentDidMount",value:function(){var t=this.props.project;t&&this.setState({form:{title:t.title,description:t.description,assets_dir:t.assets_dir}})}},{key:"changeHandler",value:function(t){var e=t.target,n=e.name,r=e.value;this.setState({form:fe(fe({},this.state.form),{},pe({},n,r))})}},{key:"titleField",value:function(t){var e=this.state,n=e.form,r=e.error;return v.a.createElement(re,se({},t,{type:"text",name:"title",label:"Title",error:r,id:"project-title",value:n.title,placeholder:"Project title",title:"Prject Name",helpText:"Project name/title",onChange:this.changeHandler}))}},{key:"descriptionField",value:function(t){var e=this.state,n=e.form,r=e.error;return v.a.createElement(ce,se({},t,{error:r,id:"project-story",label:"Description",name:"description",placeholder:"Project description",title:"Project Description",value:n.description,onChange:this.changeHandler,helpText:"A little description about this project."}))}},{key:"assetsDirField",value:function(t){var e=this.state,n=e.form,r=e.error;return v.a.createElement(re,se({},t,{type:"text",name:"assets_dir",label:"Assets Directory",error:r,id:"project-assets",value:n.assets_dir,placeholder:"Assets Directory",title:"Assets Directory",helpText:"Path of a directory for assets",onChange:this.changeHandler}))}},{key:"submitHandler",value:function(t){var e=this;t.preventDefault();var n=this.props,r=n.onSuccess,o=n.onError,a=n.addProject,i=n.updateProject,c=n.project;(c?i:a)({getPayload:function(){return e.state.form},oldPayload:function(){return c},onSuccess:function(){e.setState({loading:!1,done:!0},r)},onError:function(t){e.setState({error:d()(t,"error.response.data",!0),loading:!1},o)}}),this.setState({loading:!0,error:!1})}},{key:"render",value:function(){return this.props.children(fe(fe({},this.state),{},{onChange:this.changeHandler,onSubmit:this.submitHandler,TitleField:this.titleField,DescriptionField:this.descriptionField,AssetsDirField:this.assetsDirField}))}}])&&de(t.prototype,e),n&&de(t,n),o}();ge.defaultProps={onSuccess:ve,onError:ve},ge.propTypes={onSuccess:u.a.func,onError:u.a.func};var Oe={addProject:function(n){return function(e){z.projects.post(n.getPayload()).then(function(t){n.onSuccess(t),e({type:k,payload:{data:t.getData()}})}).catch(function(t){console.error(t),n.onError(t)})}},updateProject:function(n){return function(e){z.project.put(n.getPayload(),{alias:n.oldPayload().alias}).then(function(t){n.onSuccess(t),e({type:C,payload:{data:t.getData(),oldData:n.oldPayload()}})}).catch(function(t){console.error(t),n.onError(t)})}}},we=Object(i.b)(null,Oe)(ge);function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=Te(a);return e=i?(t=Te(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==je(r)&&"function"!=typeof r?De(n):r}}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ke=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(o,b["Component"]);var t,e,n,r=Se(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).containerRef=null,e.containerRefHandler=function(t){return e.containerRef=t},e.docClickHandler=e.docClickHandler.bind(De(e)),e}return t=o,(e=[{key:"docClickHandler",value:function(t){var e=t.target;this.containerRef.contains(e)||(0,this.props.closeEditView)()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.docClickHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickHandler)}},{key:"render",value:function(){var t=this.props,e=t.project,a=t.closeEditView;return v.a.createElement("div",{ref:this.containerRefHandler},v.a.createElement(we,{project:e,onSuccess:a},function(t){var e=t.TitleField,n=t.DescriptionField,r=t.AssetsDirField,o=t.onSubmit;return v.a.createElement("form",{onSubmit:o},v.a.createElement("hr",null),v.a.createElement(e,null),v.a.createElement(n,null),v.a.createElement(r,null),v.a.createElement("hr",null),v.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:a},"Close"),v.a.createElement("button",{className:"btn btn-success pull-right",type:"submit",onClick:o},"Save Changes"),v.a.createElement("hr",null))}))}}])&&Ee(t.prototype,e),n&&Ee(t,n),o}();ke.propTypes={};var _e=ke;function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach(function(t){xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Me(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=Ve(a);return e=i?(t=Ve(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==Ce(r)&&"function"!=typeof r?Ne(n):r}}function Ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Le=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(o,b["Component"]);var t,e,n,r=Me(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).inputRef=null,e.containerRef=null,e.inputRefHandler=function(t){return e.inputRef=t},e.containerRefHandler=function(t){return e.containerRef=t},e.focusAtInput=e.focusAtInput.bind(Ne(e)),e.onChangeHandler=e.onChangeHandler.bind(Ne(e)),e.handleKeyPress=e.handleKeyPress.bind(Ne(e)),e.saveTodo=e.saveTodo.bind(Ne(e)),e.docClickHandler=e.docClickHandler.bind(Ne(e)),e.state={form:{title:"",story:""},error:!1},e}return t=o,(e=[{key:"docClickHandler",value:function(t){this.containerRef.contains(t.target)||(0,this.props.closeView)()}},{key:"onChangeHandler",value:function(t){var e=t.target,n=e.name,r=e.value;this.setState({form:He(He({},this.state.form),{},xe({},n,r))})}},{key:"saveTodo",value:function(){var n=this,t=this.props,e=t.addTodo,r=t.editTodo,o=t.closeView,a=t.project,i=t.todo,c=t.parent,u=i?r:e,s=i?o:function(){n.setState({form:{title:"",story:""}},n.focusAtInput)};u({payload:He(He(He({},this.state.form),{},{project:a.alias},i?{alias:i.alias}:{}),c?{parent:c.alias}:{}),onSuccess:s,onError:function(t){var e=t.error;n.setState({error:e.response.data})}})}},{key:"handleKeyPress",value:function(t){var e=this.props.closeView,n=t.target.tagName,r="Enter"==t.key&&("INPUT"==n||"TEXTAREA"==n&&t.ctrlKey);return"Escape"==t.key?e():r?this.saveTodo():void 0}},{key:"focusAtInput",value:function(){this.inputRef.focus()}},{key:"componentDidMount",value:function(){this.focusAtInput(),document.addEventListener("click",this.docClickHandler);var t=this.props.todo;t&&this.setState({form:{title:t.title,story:t.story}})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickHandler)}},{key:"render",value:function(){var t=this.props,e=t.closeView,n=t.todo,r=this.state,o=r.form,a=r.error;return v.a.createElement("div",{className:"add-todo"+(n?" edit-view":""),ref:this.containerRefHandler},v.a.createElement("div",{className:"menu-container left"},v.a.createElement("span",{title:"close",className:"menu",onClick:e},v.a.createElement("i",{className:"fa fa-window-close"})),v.a.createElement("span",{title:"Save",className:"menu",onClick:this.saveTodo},v.a.createElement("i",{className:"fa fa-check"}))),v.a.createElement("input",{type:"text",name:"title",title:"Title",value:o.title,placeholder:"Todo",autoComplete:"off",ref:this.inputRefHandler,onKeyDown:this.handleKeyPress,onChange:this.onChangeHandler}),v.a.createElement(Yt,{error:a,name:"title",id:"title"}),v.a.createElement("textarea",{className:"mt-1",placeholder:"Story",name:"story",title:"Story",autoComplete:"off",value:o.story,onKeyDown:this.handleKeyPress,onChange:this.onChangeHandler}))}}])&&Ae(t.prototype,e),n&&Ae(t,n),o}();Le.propTypes={};var Ue={addTodo:function(u){return function(e){var t,n,r,o,a,i,c=$t($t({},u.payload),{},{position:(t=u.payload,n=t.project,r=t.parent,o=xt.getState().project.prms[n],a=r?o.getTodo({alias:r}).subTask:o.todos,i=1,a.forEach(function(t){t.position>=i&&(i=t.position+1)}),i)});z.todos.post(c).then(function(t){u.onSuccess&&u.onSuccess(t),e({type:x,payload:{data:t.getData()}})}).catch(function(t){console.error(t),u.onError&&u.onError(t)})}},editTodo:function(n){return function(e){var t=n.payload;z.todo.patch(t,{alias:t.alias}).then(function(t){e({type:A,payload:{data:t.getData()}}),n.onSuccess(t)}).catch(function(t){console.error(t)})}}},Fe=Object(i.b)(null,Ue)(Le);function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xe(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=Ge(a);return e=i?(t=Ge(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==qe(r)&&"function"!=typeof r?Be(n):r}}function Be(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Je(){}var We=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(o,b["Component"]);var t,e,n,r=Xe(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onDragStartHandler=e.onDragStartHandler.bind(Be(e)),e.onDragOverHandler=e.onDragOverHandler.bind(Be(e)),e.onDragEnterHandler=e.onDragEnterHandler.bind(Be(e)),e.onDragLeaveHandler=e.onDragLeaveHandler.bind(Be(e)),e.onDragEndHandler=e.onDragEndHandler.bind(Be(e)),e.onDropHandler=e.onDropHandler.bind(Be(e)),e.dragOverCount=0,e.onDragEnterId=null,e.onDragLeaveId=null,e.dropZoneHandlers={onDragOver:e.onDragOverHandler,onDragEnter:e.onDragEnterHandler,onDragLeave:e.onDragLeaveHandler,onDrop:e.onDropHandler},e.state={dragging:!1,dropZoneEnabled:!1},e}return t=o,(e=[{key:"onDragStartHandler",value:function(t){this.setState({dragging:!0}),this.props.onDragStart(t)}},{key:"onDragOverHandler",value:function(t){t.preventDefault(),this.props.onDragOver(t)}},{key:"onDragEnterHandler",value:function(){var t=this;this.state.dragging||(0==this.dragOverCount&&(null!=this.onDragLeaveId?(clearTimeout(this.onDragLeaveId),this.onDragLeaveId=null):this.onDragEnterId=setTimeout(function(){t.setState({dropZoneEnabled:!0}),t.props.onDragEnter(),t.onDragEnterId=null},this.props.delay)),this.dragOverCount++)}},{key:"onDragLeaveHandler",value:function(){var t=this;this.state.dragging||(this.dragOverCount--,0==this.dragOverCount&&(null!=this.onDragEnterId?(clearTimeout(this.onDragEnterId),this.onDragEnterId=null):this.onDragLeaveId=setTimeout(function(){t.setState({dropZoneEnabled:!1}),t.props.onDragLeave(),t.onDragLeaveId=null},this.props.delay)))}},{key:"onDragEndHandler",value:function(t){this.setState({dragging:!1}),this.props.onDragEnd(t)}},{key:"onDropHandler",value:function(t){this.dragOverCount=0,this.setState({dropZoneEnabled:!1}),this.props.onDrop(t)}},{key:"render",value:function(){var t=this.state,e=t.dropZoneEnabled,n=t.dragging;return this.props.children({dragging:n,dropZoneEnabled:e,dropZoneHandlers:this.dropZoneHandlers,onDragStartHandler:this.onDragStartHandler,onDragOverHandler:this.onDragOverHandler,onDragEnterHandler:this.onDragEnterHandler,onDragLeaveHandler:this.onDragLeaveHandler,onDragEndHandler:this.onDragEndHandler,onDropHandler:this.onDropHandler})}}])&&Ke(t.prototype,e),n&&Ke(t,n),o}();We.propTypes={onDragStart:u.a.func,onDragOver:u.a.func,onDragEnter:u.a.func,onDragLeave:u.a.func,onDragEnd:u.a.func,onDrop:u.a.func,delay:u.a.number},We.defaultProps={onDragStart:Je,onDragOver:Je,onDragEnter:Je,onDragLeave:Je,onDragEnd:Je,onDrop:Je,delay:500};var $e=We;function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(){return(Qe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ye(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=on(a);return e=i?(t=on(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==ze(r)&&"function"!=typeof r?rn(n):r}}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var an=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&en(t,e)}(o,b["Component"]);var t,e,n,r=nn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onDropHandler=e.onDropHandler.bind(rn(e)),e}return t=o,(e=[{key:"onDropHandler",value:function(t){this.props.onDrop(t),this.props.onDropHandler(t)}},{key:"render",value:function(){var t=this.props,e=t.enable,n=(t.onDropHandler,Ye(t,["enable","onDropHandler"]));return e?v.a.createElement("div",Qe({},n,{className:"drop-zone",onDrop:this.onDropHandler})):null}}])&&tn(t.prototype,e),n&&tn(t,n),o}();an.propTypes={onDropHandler:u.a.func},an.defaultProps={onDropHandler:function(){}};var cn=an;function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sn(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach(function(t){fn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e){return(dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yn(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=mn(a);return e=i?(t=mn(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==un(r)&&"function"!=typeof r?hn(n):r}}function hn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mn(t){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bn(t){var e=t.placeholder,n=t.name,r=t.value,o=t.onChange,a=t.onKeyPress,i=t.refHandler;return v.a.createElement("input",{min:"0",step:"1",type:"number",value:r,ref:i,name:n,title:e,onChange:o,onKeyDown:a,placeholder:e})}bn.defaultProps={refHandler:function(){}};var vn=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dn(t,e)}(o,b["Component"]);var t,e,n,r=yn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).hourElem=Object(b.createRef)(),e.onChange=e.onChange.bind(hn(e)),e.onKeyPress=e.onKeyPress.bind(hn(e)),e.state={hour:0,min:0,sec:0,totalSec:0},e}return t=o,(e=[{key:"onKeyPress",value:function(t){"Escape"==t.key&&this.props.onClose&&this.props.onClose(ln(ln({},this.state),{},{type:"close"})),"Enter"==t.key&&this.props.onSubmit&&this.props.onSubmit(ln(ln({},this.state),{},{type:"submit"}))}},{key:"onChange",value:function(t){var e,n,r=t.target.name,o=parseFloat(t.target.value),a=(fn(e={hour:this.state.hour,min:this.state.min,sec:this.state.sec},r,o),fn(e,"totalSec",0),e);a.totalSec=3600*a.hour+60*a.min+a.sec,this.setState((fn(n={},r,o),fn(n,"totalSec",a.totalSec),n)),this.props.onChange&&this.props.onChange(ln({},a))}},{key:"format",value:function(t){var e={hour:0,min:0,sec:t,totalSec:0};return e.hour=parseInt(e.sec/3600),e.sec=e.sec-3600*e.hour,e.min=parseInt(e.sec/60),e.sec=e.sec-60*e.min,e.totalSec=3600*e.hour+60*e.min+e.sec,e}},{key:"componentDidMount",value:function(){this.setState(ln({},this.format(this.props.duration))),this.hourElem.current.focus()}},{key:"componentDidUpdate",value:function(t){var e=this.props.duration;t.duration!=e&&this.setState(ln({},this.format(e)))}},{key:"render",value:function(){var t=this.state,e=t.hour,n=t.min,r=t.sec;return v.a.createElement("div",{className:"duration-field"},v.a.createElement(bn,{name:"hour",value:e,refHandler:this.hourElem,onChange:this.onChange,onKeyPress:this.onKeyPress,placeholder:"Hour"}),v.a.createElement(bn,{name:"min",value:n,onChange:this.onChange,onKeyPress:this.onKeyPress,placeholder:"Min"}),v.a.createElement(bn,{name:"sec",value:r,onChange:this.onChange,onKeyPress:this.onKeyPress,placeholder:"Sec"}))}}])&&pn(t.prototype,e),n&&pn(t,n),o}();function gn(t){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jn(t,e,n){return e&&wn(t.prototype,e),n&&wn(t,n),t}function En(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}function Pn(t,e){return(Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sn(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=Tn(a);return e=i?(t=Tn(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==gn(r)&&"function"!=typeof r?Dn(n):r}}function Dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kn=function(){En(r,b["Component"]);var n=Sn(r);function r(t){var e;return On(this,r),(e=n.call(this,t)).state={time:""},e}return jn(r,[{key:"format",value:function(t){function e(t){t<10&&(n+="0")}var n="",r={day:0,hour:0,min:0,sec:t};return 86399<r.sec&&(r.day=parseInt(r.sec/86400),n+=r.day+"d",r.sec=r.sec-86400*r.day),3599<r.sec&&(r.hour=parseInt(r.sec/3600),r.day&&(n+=" "),e(r.hour),n+=r.hour+":",r.sec=r.sec-3600*r.hour),59<r.sec?(r.min=parseInt(r.sec/60),e(r.min),n+=r.min+":",r.sec=r.sec-60*r.min,e(r.sec),n+=r.sec):r.hour||r.sec?(n+="00:",e(r.sec),n+=r.sec):n+="00:00",n}},{key:"componentDidMount",value:function(){var t=this.props.time;this.setState({time:this.format(t)})}},{key:"componentDidUpdate",value:function(t){t.time!=this.props.time&&this.setState({time:this.format(this.props.time)})}},{key:"render",value:function(){var t=this.state.time;return v.a.createElement("span",{onClick:this.props.onClick},t)}}]),r}();kn.defaultProps={onClick:function(){}};var _n=function(){En(r,b["Component"]);var n=Sn(r);function r(t){var e;return On(this,r),(e=n.call(this,t)).startCountdownInterval=e.startCountdownInterval.bind(Dn(e)),e.startCountdown=e.startCountdown.bind(Dn(e)),e.stopCountdownInterval=e.stopCountdownInterval.bind(Dn(e)),e.stopCountdown=e.stopCountdown.bind(Dn(e)),e.toggleEditView=e.toggleEditView.bind(Dn(e)),e.onSubmitDurationEdit=e.onSubmitDurationEdit.bind(Dn(e)),e.timer=null,e.state={counting:!1,timeSpan:0,busy:!1,edit:!1},e}return jn(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props.todo;this.setState({timeSpan:e.time_span},function(){e.wip&&t.startCountdownInterval()})}},{key:"componentWillUnmount",value:function(){this.stopCountdownInterval()}},{key:"componentDidUpdate",value:function(t){var e=this.props.todo;t.todo.time_span!=e.time_span&&this.setState({timeSpan:e.time_span}),t.todo.wip!=e.wip&&(e.wip?this.startCountdownInterval():this.stopCountdownInterval())}},{key:"startCountdownInterval",value:function(){var t=this;this.state.busy||this.state.counting||(this.setState({counting:!0}),this.timer=setInterval(function(){t.setState(function(t){return{timeSpan:t.timeSpan+1}})},1e3))}},{key:"startCountdown",value:function(){this.state.busy||this.state.counting||(this.startCountdownInterval(),this.props.startCountdown(this.props.todo.alias))}},{key:"stopCountdownInterval",value:function(){this.state.busy||this.timer&&this.state.counting&&(this.setState({counting:!1}),clearInterval(this.timer),this.timer=null)}},{key:"stopCountdown",value:function(){this.state.busy||this.timer&&this.state.counting&&(this.stopCountdownInterval(),this.props.stopCountdown(this.props.todo.alias))}},{key:"toggleEditView",value:function(){this.setState({edit:!this.state.edit})}},{key:"onSubmitDurationEdit",value:function(t){this.setState({edit:!1});var e=this.props.todo;this.props.updateTodoData({alias:e.alias,duration:t.totalSec})}},{key:"render",value:function(){var t=this.props.todo,e=this.state,n=e.counting,r=e.timeSpan,o=e.edit,a=t.duration-r;return v.a.createElement(b.Fragment,null,n?v.a.createElement("span",{className:"menu",title:"Stop countdown",onClick:this.stopCountdown},v.a.createElement("i",{className:"fa fa-pause-circle-o"})):v.a.createElement("span",{className:"menu",title:"Start countdown",onClick:this.startCountdown},v.a.createElement("i",{className:"fa fa-play-circle-o"})),v.a.createElement("span",{className:"menu clock duration"},o?v.a.createElement(vn,{onClose:this.toggleEditView,duration:t.duration,onSubmit:this.onSubmitDurationEdit}):v.a.createElement(kn,{time:t.duration,onClick:this.toggleEditView})),0<r&&v.a.createElement(b.Fragment,null,v.a.createElement("span",{className:"menu clock countdown"},a<0&&"+",v.a.createElement(kn,{time:-1<a?a:-1*a}))))}}]),r}();function Cn(t){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(){return(Rn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function An(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=Mn(a);return e=i?(t=Mn(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==Cn(r)&&"function"!=typeof r?In(n):r}}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nn=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(o,b["Component"]);var t,e,n,r=An(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).deleteTodo=e.deleteTodo.bind(In(e)),e.toggleDetailsViewHandler=e.toggleDetailsViewHandler.bind(In(e)),e.toggleEditView=e.toggleEditView.bind(In(e)),e.toggleAddView=e.toggleAddView.bind(In(e)),e.toggleStatus=e.toggleStatus.bind(In(e)),e.onDragStartHandler=e.onDragStartHandler.bind(In(e)),e.onDragEndHandler=e.onDragEndHandler.bind(In(e)),e.onDropUp=e.onDropUp.bind(In(e)),e.onDropDown=e.onDropDown.bind(In(e)),e.onDropChild=e.onDropChild.bind(In(e)),e.state={addView:!1,editView:!1,detailsView:!0,subMenuExpended:!1},e}return t=o,(e=[{key:"onDragStartHandler",value:function(){this.props.updateDraggingTodo(this.props.todo)}},{key:"onDragEndHandler",value:function(){this.props.updateDraggingTodo(null)}},{key:"onDropUp",value:function(){this.props.onDropTodo({todoToMove:this.props.draggingTodo,referenceTodo:this.props.todo,direction:Zt})}},{key:"onDropDown",value:function(){this.props.onDropTodo({todoToMove:this.props.draggingTodo,referenceTodo:this.props.todo,direction:Xt})}},{key:"onDropChild",value:function(){this.props.onDropTodo({todoToMove:this.props.draggingTodo,referenceTodo:this.props.todo,direction:Bt})}},{key:"deleteTodo",value:function(){var t,e;confirm("Do you want to delete this?")&&(e=(t=this.props).deleteTodo,e(t.todo))}},{key:"toggleDetailsViewHandler",value:function(){this.setState(function(t){return{detailsView:!t.detailsView}})}},{key:"toggleEditView",value:function(){this.setState(function(t){return{editView:!t.editView}})}},{key:"toggleAddView",value:function(){this.setState(function(t){return{addView:!t.addView}})}},{key:"toggleStatus",value:function(t){this.props.updateTodoData({alias:this.props.todo.alias,done:t.target.checked})}},{key:"render",value:function(){var e=this,t=this.props,n=t.todo,r=t.project,o=t.startCountdown,a=t.stopCountdown,i=t.updateTodoData,c=n.title,u=n.rq,s=n.story,l=n.subTask,f=n.done,p=n.progress,d=this.state,y=d.addView,h=d.editView,m=d.detailsView;return v.a.createElement($e,{onDragStart:this.onDragStartHandler,onDragEnd:this.onDragEndHandler},function(t){return v.a.createElement(b.Fragment,null,v.a.createElement(cn,Rn({},t.dropZoneHandlers,{onDropHandler:e.onDropUp,enable:t.dropZoneEnabled})),!h&&v.a.createElement("div",{draggable:!0,className:"todo-short-info"+(f?" done":"")+(t.dropZoneEnabled?" over":""),onDragEnd:t.onDragEndHandler,onDragStart:t.onDragStartHandler},v.a.createElement("div",{className:"left menu-container"},v.a.createElement("span",{className:"menu"},v.a.createElement("i",{className:"fa fa-angle-double-".concat(m?"down":"right")})),v.a.createElement("span",{className:"menu checkbox"},v.a.createElement("input",{type:"checkbox",checked:f,onChange:e.toggleStatus}))),v.a.createElement("div",{className:"todo-info"},v.a.createElement("div",Rn({title:s},t.dropZoneHandlers,{className:"short-view title",onDoubleClick:e.toggleEditView,onClick:e.toggleDetailsViewHandler}),v.a.createElement("span",{className:"text-muted"},"[#",u," (",p,"%)] "),v.a.createElement("span",null,c)),m&&v.a.createElement("div",{className:"story text-muted"},s.split("\n").map(function(t){return v.a.createElement("p",{className:"mb-0",key:t},t)})),v.a.createElement(cn,Rn({},t.dropZoneHandlers,{onDropHandler:e.onDropChild,enable:t.dropZoneEnabled}))),y&&v.a.createElement(Fe,{parent:n,project:r,closeView:e.toggleAddView}),v.a.createElement("div",{className:"right menu-container"},v.a.createElement("span",{className:"menu",onClick:e.toggleAddView},y&&v.a.createElement("i",{title:"Close",className:"fa fa-window-close"})||v.a.createElement("i",{title:"Add Subtask",className:"fa fa-plus"})),v.a.createElement("span",{onClick:e.toggleEditView,className:"menu"},v.a.createElement("i",{title:"Edit",className:"fa fa-edit"})),v.a.createElement("span",{title:"Delete",onClick:e.deleteTodo,className:"menu"},v.a.createElement("i",{className:"fa fa-trash"})),v.a.createElement(_n,{todo:n,startCountdown:o,updateTodoData:i,stopCountdown:a}))),h&&v.a.createElement(Fe,{todo:n,project:r,closeView:e.toggleEditView}),l&&0<l.length&&v.a.createElement("div",{className:"todo-list"},v.a.createElement(Fn,{project:r,todoList:l})),v.a.createElement(cn,Rn({},t.dropZoneHandlers,{onDropHandler:e.onDropDown,enable:t.dropZoneEnabled})))})}}])&&Hn(t.prototype,e),n&&Hn(t,n),o}();Nn.propTypes={todo:u.a.shape({title:u.a.string.isRequired}).isRequired};function Vn(t){var e=t.todoList,n=t.project;return e.map(function(t){return v.a.createElement(Un,{key:t.alias,todo:t,project:n,updatedAt:t.updatedAt})})}var Ln={deleteTodo:function(n){return function(e){z.todo.delete({alias:n.alias}).then(function(t){e({type:I,payload:{data:n,response:t}})}).catch(function(t){console.error(t)})}},updateDraggingTodo:function(e){return function(t){t({type:M,payload:{data:e}})}},onDropTodo:function(l){return function(e){var t=l.referenceTodo,n=l.todoToMove,r=l.direction,o=xt.getState().project.prms[n.project];if(t.project==n.project){var a,i,c,u=qt($t($t({},l),{},{direction:r}));try{i={direction:r,todoToMove:n,referenceTodo:t,targetTodoList:t.parent?o.getTodo({alias:t.parent}).subTask:o.todos},c=i.direction,a=Jt[c](i)}catch(t){if(t instanceof Gt)return;throw t}var s=u?{}:{parent:r==Bt?t.alias:t.parent?t.parent:null};z.todo.patch($t({alias:n.alias,position:a},s),{alias:n.alias}).then(function(t){e({type:N,payload:{data:t.getData()}})}).catch(function(t){console.error(t)})}}},updateTodoData:function(t){return function(e){z.todo.patch(t,{alias:t.alias}).then(function(t){e({type:A,payload:{data:t.getData()}})}).catch(function(t){console.error(t)})}},startCountdown:function(e){return function(t){z.startTodo.get({alias:e})}},stopCountdown:function(e){return function(t){z.stopTodo.get({alias:e})}}},Un=Object(i.b)(function(t){return{draggingTodo:t.project.draggingTodo}},Ln)(Nn);Vn.propTypes={};var Fn=Vn;function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e){return(Zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xn(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=Gn(a);return e=i?(t=Gn(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==qn(r)&&"function"!=typeof r?Bn(n):r}}function Bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jn=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zn(t,e)}(o,b["Component"]);var t,e,n,r=Xn(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).toggleView=e.toggleView.bind(Bn(e)),e.toggleEditView=e.toggleEditView.bind(Bn(e)),e.deleteHandler=e.deleteHandler.bind(Bn(e)),e.showTodoAddView=e.showTodoAddView.bind(Bn(e)),e.hideTodoAddView=e.hideTodoAddView.bind(Bn(e)),e.exportProject=e.exportProject.bind(Bn(e)),e.importProject=e.importProject.bind(Bn(e)),e.state={showTodoList:!1,editView:!1,todoAddView:!1},e}return t=o,(e=[{key:"showTodoAddView",value:function(){this.setState({todoAddView:!0})}},{key:"hideTodoAddView",value:function(){this.setState({todoAddView:!1})}},{key:"toggleView",value:function(){var t=this.state.showTodoList,e=this.props,n=e.getTodos,r=e.project;t||n(r),this.setState({showTodoList:!t})}},{key:"toggleEditView",value:function(){this.setState(function(t){return{editView:!t.editView}})}},{key:"exportProject",value:function(){var t=this.props,e=t.exportProject;e(t.project.alias)}},{key:"importProject",value:function(){var t=this.props,e=t.importProject;e(t.project.alias)}},{key:"deleteHandler",value:function(){var t,e;confirm("Do you want to delete this project?")&&(e=(t=this.props).project,(0,t.deleteProject)(e))}},{key:"render",value:function(){var t=this.state,e=t.showTodoList,n=t.editView,r=t.todoAddView,o=this.props.project,a=o.title,i=o.description,c=o.prm,u=c.todos,s=c.progress;return v.a.createElement("div",{className:"project-view"},v.a.createElement("div",{className:"left menu-container"},v.a.createElement("span",{className:"menu"},v.a.createElement("i",{className:"fa fa-angle-double-".concat(e?"down":"right")}))),v.a.createElement("div",{className:"short-info"},v.a.createElement("div",{className:"title",onClick:this.toggleView},v.a.createElement("span",{className:"text-muted"},s?"[".concat(s,"%]"):""," "),v.a.createElement("span",{title:i},a)),n&&v.a.createElement(_e,{project:o,closeEditView:this.toggleEditView}),r&&v.a.createElement(Fe,{project:o,closeView:this.hideTodoAddView}),e&&v.a.createElement(Fn,{project:o,todoList:u})),v.a.createElement("div",{className:"right menu-container"},v.a.createElement("span",{className:"menu",onClick:this.showTodoAddView},r&&v.a.createElement("i",{title:"Close",className:"fa fa-window-close"})||v.a.createElement("i",{title:"Add Todo",className:"fa fa-plus"})),v.a.createElement("span",{className:"menu",onClick:this.toggleEditView},n&&v.a.createElement("i",{title:"Close",className:"fa fa-window-close"})||v.a.createElement("i",{title:"Edit Project",className:"fa fa-edit"})),v.a.createElement("span",{className:"menu",title:"Export Project into assets",onClick:this.exportProject},v.a.createElement("i",{className:"fa fa-download"})),v.a.createElement("span",{className:"menu",title:"Import Project from assets",onClick:this.importProject},v.a.createElement("i",{className:"fa fa-upload"})),v.a.createElement("span",{className:"menu",title:"Delete Project",onClick:this.deleteHandler},v.a.createElement("i",{className:"fa fa-trash"}))))}}])&&Kn(t.prototype,e),n&&Kn(t,n),o}();Jn.propTypes={};var Wn=Jn;function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yn(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=tr(a);return e=i?(t=tr(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==$n(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function tr(t){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var er=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(o,b["Component"]);var t,e,n,r=Yn(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(e=[{key:"componentDidMount",value:function(){this.props.getProjectList()}},{key:"render",value:function(){var e=this,t=this.props.projectList;return v.a.createElement("div",{id:"todo-list-container"},t.map(function(t){return v.a.createElement(Wn,{key:t.alias,updatedAt:t.prm.updatedAt,project:t,getTodos:e.props.getTodos,deleteProject:e.props.deleteProject,exportProject:e.props.exportProject,importProject:e.props.importProject})}))}}])&&zn(t.prototype,e),n&&zn(t,n),o}(),nr={getTodos:zt,getProjectList:function(){return function(e){z.projects.get().then(function(t){e({type:R,payload:{data:t.getData()}})}).catch(function(t){console.error(t)})}},deleteProject:function(n){return function(e){z.project.delete({alias:n.alias}).then(function(t){e({type:_,payload:{data:n,response:t}})}).catch(function(t){console.error(t)})}},exportProject:function(e){return function(t){z.projectExport.get({alias:e}).catch(function(t){console.error(t)})}},importProject:function(e){return function(t){z.projectImport.get({alias:e}).then(function(){zt({alias:e})(t)}).catch(function(t){console.error(t)})}}},rr=Object(i.b)(function(t){return{projectList:t.project.list}},nr)(er);function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ur(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=sr(a);return e=i?(t=sr(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==or(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function sr(t){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t){var e=t.id;return t.delay,function(a){var t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(o,b["Component"]);var t,e,n,r=ur(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(e=[{key:"componentDidMount",value:function(){this.props.showModalHandler()}},{key:"render",value:function(){var t=this.props,e=(t.showModalHandler,ar(t,["showModalHandler"]));return v.a.createElement(a,e)}}])&&ir(t.prototype,e),n&&ir(t,n),o}();return pr[e]=t}}function fr(t){var e=t.show;return v.a.createElement("div",{className:"modal-backdrop fade"+(e?" show":"")})}var pr={};function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yr(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function hr(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(a),!0).forEach(function(t){var e,n,r;e=o,r=a[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):yr(Object(a)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(a,t))})}return o}function mr(t){return function(t){if(Array.isArray(t))return br(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return br(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gr(t,e){return(gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Or(a){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=jr(a);return e=i?(t=jr(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==dr(r)&&"function"!=typeof r?wr(n):r}}function wr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Er=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gr(t,e)}(o,b["Component"]);var t,e,n,r=Or(o);function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).mountedModalsId=[],e.mountModal=e.mountModal.bind(wr(e)),e.showModal=e.showModal.bind(wr(e)),e.closeModal=e.closeModal.bind(wr(e)),e.updateModals=e.updateModals.bind(wr(e)),e.docClickHandler=e.docClickHandler.bind(wr(e)),e.state={MountedModals:[]},e}return t=o,(e=[{key:"updateModals",value:function(t){var e=this.state.MountedModals;this.setState({MountedModals:mr(e)},t||function(){})}},{key:"docClickHandler",value:function(t){var e,n=this.state.MountedModals;0==n.length||(e=n[n.length-1]).ref&&e.show&&e.fadeEffect&&t.target==e.ref&&e.closeModalHandler()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.docClickHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickHandler)}},{key:"showModal",value:function(t){var r=this,o=t.id;return function(){var t,e=r.state.MountedModals,n=r.props.delay;r.mountedModalsId.includes(o)&&((t=e.find(function(t){return t.id==o})).show=!0,r.updateModals(function(){setTimeout(function(){t.fadeEffect=!0,r.updateModals()},n)}))}}},{key:"closeModal",value:function(t){var r=this,o=t.id;return function(){var t,e=r.state.MountedModals,n=r.props.delay;r.mountedModalsId.includes(o)&&((t=e.find(function(t){return t.id==o})).fadeEffect=!1,r.updateModals(function(){setTimeout(function(){t.show=!1,r.updateModals(function(){r.unMountModal({id:o})})},n)}))}}},{key:"unMountModal",value:function(t){var e=t.id,n=this.state.MountedModals;this.setState({MountedModals:n.filter(function(t){return t.id!=e})}),this.mountedModalsId.splice(this.mountedModalsId.indexOf(e),1)}},{key:"mountModal",value:function(t){var e,n=this.state.MountedModals,r=t.id,o=t.targetModal;this.mountedModalsId.includes(r)||(this.mountedModalsId.push(r),e=hr(hr({},t),{},{Modal:pr[o],show:!1,fadeEffect:!1,ref:null,refHandler:function(t){return e.ref=t},showModalHandler:this.showModal({id:r}),closeModalHandler:this.closeModal({id:r})}),this.setState({MountedModals:[].concat(mr(n),[e])}))}},{key:"componentDidUpdate",value:function(t){var e=this.props.modals.activeModal;t.modals.activeModal!=e&&e&&this.mountModal(e)}},{key:"render",value:function(){var t=this.state.MountedModals,s=this.props.modals;return t.map(function(t){var e=t.id,n=t.backDrop,r=t.refHandler,o=t.show,a=t.fadeEffect,i=t.closeModalHandler,c=t.showModalHandler,u=t.Modal;return v.a.createElement(b.Fragment,{key:e},v.a.createElement(u,{modal:s.data[e],modalShow:o,modalFadeIn:a,modalClose:i,modalRefHandler:r,showModalHandler:c}),n&&v.a.createElement(fr,{show:o}))})}}])&&vr(t.prototype,e),n&&vr(t,n),o}();Er.propTypes={},Er.defaultProps={delay:200};var Pr=Object(i.b)(function(t){return{modals:t.modals}})(Er);function Sr(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Dr(o){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(a),!0).forEach(function(t){var e,n,r;e=o,r=a[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):Sr(Object(a)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(a,t))})}return o}function Tr(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),a=0;a<o.length;a++)n=o[a],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function kr(t){var u=t.modalClose;return v.a.createElement(we,{onSuccess:u},function(t){var e=t.loading,n=t.done,r=t.error,o=t.onSubmit,a=t.TitleField,i=t.DescriptionField,c=t.AssetsDirField;return v.a.createElement("div",{className:"modal-dialog",role:"document"},v.a.createElement("div",{className:"modal-content"},v.a.createElement("div",{className:"modal-header"},v.a.createElement("h5",{className:"modal-title"},"Add Project"),v.a.createElement("button",{type:"button",className:"close",onClick:u,"aria-label":"Close"},v.a.createElement("span",{"aria-hidden":"true"},""))),v.a.createElement("div",{className:"modal-body"},v.a.createElement("form",{onSubmit:o},v.a.createElement(a,null),v.a.createElement(i,null),v.a.createElement(c,null))),v.a.createElement("div",{className:"modal-footer"},v.a.createElement("button",{type:"button",onClick:u,className:"btn btn-secondary mr-auto","data-dismiss":"modal"},"Close"),v.a.createElement("button",{type:"button",className:"btn ".concat(r?"btn-danger":"btn-primary"),onClick:o},e&&v.a.createElement("span",null,v.a.createElement("span",{role:"status","aria-hidden":"true",className:"spinner-border spinner-border-sm"})," Saving...")||n&&v.a.createElement("span",null,v.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})," Done")||r&&v.a.createElement("span",null,"Try again")||v.a.createElement("span",null,"Save changes")))))})}var _r=function(t){var e=t.id,n=Tr(t,["id"]);return function(o){return lr(Dr({id:e},n))(function(t){var e=t.modalFadeIn,n=t.modalShow,r=t.modalRefHandler;return v.a.createElement("div",{className:"modal fade"+(e?" show":"")+(n?" d-block":""),ref:r},v.a.createElement(o,t))})}};kr.propTypes={};function Cr(){return v.a.createElement(b.Fragment,null,v.a.createElement(rr,null),v.a.createElement(l,null),v.a.createElement(Pr,null))}_r({id:"project"})(kr);Cr.propTypes={};function Rr(){return v.a.createElement(i.a,{store:Ht},v.a.createElement(Mr,null))}var Hr,xr,Ar,Ir,Mr=Cr;Hr="favicon.ico",Ar=document.querySelector('head link[rel="shortcut icon"]'),Ir="".concat("/static/").concat(Hr),Ar?Ar.href=Ir:((xr=document.createElement("link")).rel="shortcut icon",xr.type="image/x-icon",xr.href=Ir,document.head.appendChild(xr)),a.a.render(v.a.createElement(Rr,null),document.getElementById("app"))},1:function(t,e,n){t.exports=n("./app/index.js")}},[[1,0,5,1,15,19,11,2,13,14,12,18,20,22,4,8,9,10,17,16]]]);