(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./app/Styles/app.scss":function(e,t,n){},"./app/index.js":function(e,t,n){"use strict";n.r(t);function r(e){var t=e.turnOnModal;return h.a.createElement("button",{title:"Add Project",id:"add-project-button","data-target-modal":"project","data-back-drop":"true",onClick:t},h.a.createElement("div",{className:"content"},"+"))}var y=n("./node_modules/react/index.js"),h=n.n(y),o=n("./node_modules/react-dom/index.js"),a=n.n(o),i=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/prop-types/index.js"),l=n.n(c),T=(n("./app/Styles/app.scss"),"ADD-PROJECT"),D="DELETE-PROJECT",S="UPDATE-PROJECT",k="GET-PROJECT-LIST",p="MODAL-TURN-ON",H="GET-TODO-LIST",_="ADD-TODO",x="UPDATE-TODO",C="DELETE-TODO",M="DRAGGING-TODO",A="MOVE-TODO";r.propTypes={};var s={turnOnModal:function(t){return function(e){e({type:p,payload:{data:t}})}}},u=Object(i.b)(null,s)(r),d=n("./node_modules/lodash/get.js"),f=n.n(d),b=n("./node_modules/lodash/isFunction.js"),m=n.n(b),g=n("./node_modules/lodash/isString.js"),v=n.n(g),O=n("./node_modules/lodash/isArray.js"),j=n.n(O);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach(function(e){L(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var r=e.config,o=e.method,t=e.oldPayload,a=e.dispatch,n=e.isInvalidReduxRequest,i=E(e,["config","method","oldPayload","dispatch","isInvalidReduxRequest"]),c=i.response,l=R({data:function(e){var t=e.oldPayload,n=e.response,r=f()(n,"data.results",f()(n,"data",!1));if(!j()(r))return r;if(!f()(t,"hasMore",!1))return r;var o=f()(t,"data",!1);return j()(o)?[].concat(P(o),P(r)):r}({oldPayload:t,response:c}),loading:!1,error:!1,hasMore:Boolean(f()(c,"data.next",!1)),loadMore:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var t=e.payload,n=e.method,r=e.config,o=void 0===r?{}:r,a=e.response,i=e.dispatch,c=e.loadMoreArgs;if(t.hasMore){var l=a.data.next,s=B(R({},o,{BASE_URL:"",url:l,type:n,isUrlString:!0,isUrlFunc:!1}));return G(R({},o,{apiType:n,config:o,axiosRequest:s,oldPayload:t,oldDispatch:i})).apply(void 0,P(c))}}({payload:l,method:o,config:r,response:c,dispatch:a,loadMoreArgs:t})},getData:function(e,t){return e?f()(l.data,e,t):l.data},is:{success:null,error:null,forbidden:null}},i);return l.is.success=!l.loading&&!l.error&&c&&c.status>=Z&&c.status<K,l.is.error=!l.loading&&!c&&l.error&&l.error.response,l.is.forbidden=l.is.error&&l.error.response.status==X,n?l:a?void a(l):l}function F(e,t,n){var r=0<arguments.length&&void 0!==e?e:[],o=1<arguments.length?t:void 0,a=2<arguments.length?n:void 0,i=r[o];r[o]=r[a],r[a]=i}function U(e,t,n){var r,o=0<arguments.length&&void 0!==e?e:[],a=1<arguments.length?t:void 0,i=2<arguments.length?n:void 0;return 1<o.length&&(a<(r=function(e,t,n){for(var r=0<arguments.length&&void 0!==e?e:[],o=1<arguments.length?t:void 0,a=2<arguments.length?n:void 0,i=r[Math.floor((a+o)/2)].position,c=o,l=a;c<=l;){for(;r[c].position<i;)c++;for(;r[l].position>i;)l--;c<=l&&(F(r,c,l),c++,l--)}return c}(o,a,i))-1&&U(o,a,r-1),r<i&&U(o,r,i)),o}function q(e){var t=0<arguments.length&&void 0!==e?e:[];1<t.length&&U(t,0,t.length-1)}var Z=200,K=300,X=403,B=function(e){var g=e.BASE_URL,v=e.url,O=e.type,j=e.axios,w=e.isUrlString,E=e.isUrlFunc,P=e.reservedParams;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,a,i,c,l,s=N((r=t,o=0,a=null,["post","patch","put"].includes(O)&&(a=0,o=1),[r[a],r[o]]),2),u=s[0],d=s[1],p=null!=u,f=d||{},y=u||{},h=[],b=g,m={params:E?(i=f,c=P,l={},Object.keys(i).forEach(function(e){c.includes(e)||(l[e]=i[e])}),l):f};return w&&(b+=v),E&&(b+=v(f)),h.push(b),p&&h.push(y),h.push(m),j[O].apply(j,h)}},G=function(e){var t=e.API,n=e.isInvalidReduxRequest,r=e.oldDispatch,o=e.apiType,a=e.ACTION_LIST,i=e.config,c=e.axiosRequest,l=e.oldPayload,s=t[o];null==c&&(c=s);function u(e){var t=w({},e);return V(R({config:i,oldPayload:l,method:o,isInvalidReduxRequest:n},t))}function d(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return new Promise(function(t,n){c.apply(void 0,r).then(function(e){t(u({response:e}))}).catch(function(e){n(u({error:e}))})})}if(n)return d;function p(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return function(n,r){function t(e){var t=w({},e);return u(R({type:f,dispatch:n,store:r()},t))}t({loading:!0}),c.apply(void 0,o).then(function(e){t({response:e})}).catch(function(e){t({error:e})})}}var f=a[o];return r?function(){return p.apply(void 0,arguments)(r)}:Object.assign(p,{reduxAction:p,axiosRequest:d,actionType:f})},J=function(e){var s=e.axios,t=e.urlPrefix,u=void 0===t?"":t,d={};return{registerApi:function(e){var t,n,r=e.url,o=e.actionType,a=void 0===o?"":o,i=e.stateName,c=void 0===i?"":i,l={axios:s,urlPrefix:u,RootReducer:d,url:r,actionType:a,stateName:c,BASE_URL:u,isUrlString:v()(r),isUrlFunc:m()(r),reservedParams:[],isInvalidReduxRequest:""==a||""==c,ACTION_LIST:{get:"".concat(a,"_GET"),delete:"".concat(a,"_DELETE"),post:"".concat(a,"_POST"),patch:"".concat(a,"_PATCH"),put:"".concat(a,"_PUT")},API:{},ACTION:{get:function(e){},delete:function(e){},post:function(e,t){},patch:function(e,t){},put:function(e,t){}}};return l.isUrlFunc&&(l.reservedParams=(t=l.url,n=[],t(new Proxy({},{get:function(e,t){return n.push(t),e[t]}})),n)),l.API={get:B(R({},l,{type:"get"})),delete:B(R({},l,{type:"delete"})),post:B(R({},l,{type:"post"})),patch:B(R({},l,{type:"patch"})),put:B(R({},l,{type:"put"}))},l.ACTION={get:G(R({},l,{config:l,apiType:"get"})),delete:G(R({},l,{config:l,apiType:"delete"})),post:G(R({},l,{config:l,apiType:"post"})),patch:G(R({},l,{config:l,apiType:"patch"})),put:G(R({},l,{config:l,apiType:"put"}))},l.isInvalidReduxRequest?R({},l.ACTION):(d[c]=function(e){var n=(0<arguments.length&&void 0!==e?e:{}).ACTION_LIST,r=V({});return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case n.get:return t;default:return e}}}(R({},l)),R({},l.ACTION,{stateName:l.stateName,getState:function(e){return e[l.stateName]}}))},getReducer:function(){return d}}},W=n("./node_modules/axios/index.js"),z=J({urlPrefix:"/api/v1",axios:n.n(W).a.create({baseURL:"/",xsrfHeaderName:"X-CSRFToken",xsrfCookieName:"csrftoken"})}).registerApi,Q={projects:z({url:"/project"}),project:z({url:function(e){var t=e.alias;return"/project/".concat(t)}}),projectExport:z({url:function(e){var t=e.alias;return"/project/export/".concat(t)}}),projectImport:z({url:function(e){var t=e.alias;return"/project/import/".concat(t)}}),todos:z({url:"/todo"}),todo:z({url:function(e){var t=e.alias;return"/todo/".concat(t)}})},Y=n("./node_modules/redux-thunk/es/index.js"),$=n("./node_modules/redux/es/redux.js");function ee(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach(function(e){ae(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){var n=t.payload.data,r=e.prm;return r.updateTodo(n),oe({},e,{list:ne(r.list)})}var ce={prm:new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[],this.todosHash={},this.projectsHash={}}var t,n,r;return t=e,(n=[{key:"getProject",value:function(e){var t=e.alias;return this.projectsHash[t]}},{key:"getTodo",value:function(e){var t=e.alias;return this.todosHash[t]}},{key:"updateProject",value:function(e){var t=Object.assign({},e),n=this.getProject(t);Object.assign(n,t),this.projectsHash[n.alias]=n,this.updateEntry(n)}},{key:"addProject",value:function(e){var t=Object.assign({},e);t.todoList=[],t.progress=0,this.projectsHash[t.alias]=t,this.list.push(t),this.updateEntry(t)}},{key:"addProjectList",value:function(e){var t=this;(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){t.addProject(e)})}},{key:"deleteProject",value:function(e){var t=e.alias,n=this.list.findIndex(function(e){return e.alias==t});this.list.splice(n,1),delete this.projectsHash[t]}},{key:"updateEntry",value:function(e){var n=this,t=e.project?this.todosHash[e.alias]:this.projectsHash[e.alias],r=(new Date).getTime(),o={updatedAt:r,key:"".concat(t.alias,"-").concat(r)};return function e(t){t.parent?e(n.todosHash[t.parent]):t.project&&e(n.projectsHash[t.project]),t.todoList&&(t.todoList=ee(t.todoList),q(t.todoList)),t.subTask&&(t.subTask=ee(t.subTask),q(t.subTask)),Object.assign(t,o)}(t),o}},{key:"updateTodoProgress",value:function(t){if("number"==typeof t.progress)if(t.done)t.progress=100;else{t.progress=0;var e=t.subTask||t.todoList,n=100/e.length;e.forEach(function(e){t.progress+=e.done?n:n*(e.progress/100)}),t.progress=Math.round(t.progress)}else t.progress=t.done?100:0;if(t.parent){var r=this.todosHash[t.parent];this.updateTodoProgress(r)}else if(t.project){var o=this.projectsHash[t.project],a=100/o.todoList.length;o.progress=0,o.todoList.forEach(function(e){o.progress+=a*(e.progress/100)}),o.progress=Math.round(o.progress)}}},{key:"addTodo",value:function(e){var t=Object.assign({},e),n=this.getProject({alias:t.project}),r=this.todosHash[t.alias];if(r&&Object.assign(t,r),(this.todosHash[t.alias]=t).subTask||(t.subTask=[]),t.parent){var o=this.todosHash[t.parent];o||(o={subTask:[]},this.todosHash[t.parent]=o),o.subTask.push(t)}else n.todoList.push(t);this.updateTodoProgress(t),this.updateEntry(t)}},{key:"deleteTodo",value:function(e){var t,n=e.alias,r=this.todosHash[n];if(r.parent){var o=this.todosHash[r.parent];t=o.subTask.findIndex(function(e){return e.alias==r.alias}),o.subTask.splice(t,1),this.updateTodoProgress(o),this.updateEntry(o)}else if(r.project){var a=this.getProject({alias:r.project});t=a.todoList.findIndex(function(e){return e.alias==r.alias}),a.todoList.splice(t,1),this.updateTodoProgress(a),this.updateEntry(a)}delete this.todosHash[r.alias]}},{key:"updateTodo",value:function(e){var t,n=Object.assign({},this.todosHash[e.alias]),r=Object.assign({},n,e);if(n.parent!=r.parent||n.project!=r.project)this.deleteTodo({alias:e.alias}),this.addTodo(r);else{if(n.parent){var o=this.todosHash[n.parent];t=o.subTask.findIndex(function(e){return e.alias==n.alias}),o.subTask[t]=r}else{var a=this.projectsHash[n.project];t=a.todoList.findIndex(function(e){return e.alias==n.alias}),a.todoList[t]=r}this.todosHash[e.alias]=r,this.updateTodoProgress(r),this.updateEntry(r)}}}])&&te(t.prototype,n),r&&te(t,r),e}()),list:[],draggingTodo:null},le={list:[],hash:{},idList:[]},se=n("./node_modules/shortid/index.js");function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach(function(e){fe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye,he={data:{},order:[],activeModal:null},be=Object($.c)({project:function(e,t){var n,r,o,a,i,c,l,s,u,d,p,f,y,h,b,m,g,v,O,j,w,E=0<arguments.length&&void 0!==e?e:ce,P=1<arguments.length?t:void 0;switch(P.type){case k:return O=E,j=P.payload.data,(w=O.prm).addProjectList(j),oe({},O,{list:ne(w.list)});case T:return m=E,g=P.payload.data,(v=m.prm).addProject(g),oe({},m,{list:ne(v.list)});case S:return y=E,h=P.payload.data,(b=y.prm).updateProject(h),oe({},y,{list:ne(b.list)});case D:return d=E,p=P.payload.data,(f=d.prm).deleteProject(p),oe({},d,{list:ne(f.list)});case H:return l=E,s=P.payload.data,u=l.prm,s.forEach(function(e){u.todosHash[e.alias]?u.updateTodo(e):u.addTodo(e)}),oe({},l,{list:ne(u.list)});case _:return a=E,i=P.payload.data,(c=a.prm).addTodo(i),oe({},a,{list:ne(c.list)});case C:return n=E,r=P.payload.data,(o=n.prm).deleteTodo(r),oe({},n,{list:ne(o.list)});case x:return ie(E,P);case M:return oe({},E,{draggingTodo:P.payload.data});case A:return ie(E,P);default:return E}},todo:function(e,t){var n=0<arguments.length&&void 0!==e?e:le;return(1<arguments.length?t:void 0).type,n},modals:function(e,t){var n,r,o,a,i,c,l,s,u=0<arguments.length&&void 0!==e?e:he,d=1<arguments.length?t:void 0;switch(d.type){case p:return n=u,r=d.payload.data.currentTarget,o=r.dataset,a=r.data,i=o.targetModal,c=o.backDrop,l=Object(se.generate)(),s={targetModal:i,id:l,backDrop:Boolean("true"==c),data:a||null},pe({},n,{activeModal:s,data:pe({},n.data,fe({},l,s)),order:[].concat(ue(n.order),[l])});default:return u}}}),me=window.__REDUX_DEVTOOLS_EXTENSION__?Object($.e)(be,Object($.d)(Object($.a)(Y.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())):Object($.e)(be,Object($.a)(Y.a)),ge=me;function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function we(e){var r="function"==typeof Map?new Map:void 0;return(we=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return Ee(e,arguments,Te(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pe(n,e)})(e)}function Ee(e,t,n){return(Ee=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Pe(o,n.prototype),o}).apply(null,arguments)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e){var t=e.todoToMove,n=e.referenceTodo;return e.direction!=_e&&t.parent==n.parent}function Se(e){var t=e.referenceTodo,n=e.todoToMove,r=e.targetTodoList,o=r.findIndex(function(e){return e.alias==n.alias}),a=t.position,i=r.findIndex(function(e){return e.alias==t.alias}),c=i-1,l=r[c],s=(l||{position:null}).position,u=i+1,d=r[u];return{nextTodo:d,nextTodoIndex:u,nextTodoPosition:(d||{position:null}).position,todoIndex:o,refrenceTodoIndex:i,refrenceTodoPosition:a,previousTodo:l,previousTodoIndex:c,previousTodoPosition:s}}var ke="up",He="down",_e="child",xe=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n="at index '".concat(e,"'");return(t=je(this,Te(r).call(this,n))).position=e,t.name="SamePositionException",t.message=n,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(r,we(Error)),r}(),Ce=(Oe(ye={},ke,function(e){var t=Se(e),n=t.previousTodoPosition,r=t.todoIndex,o=t.previousTodoIndex,a=t.refrenceTodoPosition;if(De(e)&&-1!=r&&r==o)throw new xe(r);return null==n?a/2:(a+n)/2}),Oe(ye,He,function(e){var t=Se(e),n=t.nextTodoPosition,r=t.todoIndex,o=t.nextTodoIndex,a=t.refrenceTodoPosition;if(De(e)&&-1!=r&&r==o)throw new xe(r);return null==n?a+1:(a+n)/2}),Oe(ye,_e,function(){return 1}),ye);function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(n),!0).forEach(function(e){Ne(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(n){return function(t){Q.todos.get({project:n.alias}).then(function(e){t({type:H,payload:{project:n,data:e.getData()}})}).catch(function(e){console.error(e)})}}function Re(e){var n=e.id,t=e.error,r=e.name,o=e.helpText;return t&&t[r]&&t[r].map(function(e,t){return h.a.createElement("small",{id:"".concat(n,"-help-").concat(t),key:e,className:"form-text text-danger"},e)})||o&&h.a.createElement("small",{id:"".concat(n,"-help"),className:"form-text text-muted"},o)||null}Re.propTypes={error:l.a.any,helpText:l.a.string,id:l.a.string.isRequired,name:l.a.string.isRequired};var Le=Re;function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ue(e){e.error,e.helpText;var t=e.id,n=e.label,r=Fe(e,["error","helpText","id","label"]);return h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{htmlFor:t},n),h.a.createElement("input",Ve({id:t,className:"form-control","aria-describedby":"".concat(t,"-help")},r)),h.a.createElement(Le,e))}Ue.defaultProps={type:"text"},Ue.propTypes={name:l.a.string.isRequired,id:l.a.string.isRequired,type:l.a.string,title:l.a.string,placeholder:l.a.string,value:l.a.any,onChange:l.a.func,helpText:l.a.string};var qe=Ue;function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Xe(e){var t=e.id,n=e.label,r=(e.error,e.helpText,Ke(e,["id","label","error","helpText"]));return h.a.createElement("div",{className:"form-group"},h.a.createElement("label",{htmlFor:t},n),h.a.createElement("textarea",Ze({className:"form-control",id:t},r)),h.a.createElement(Le,e))}Xe.propTypes={id:l.a.string.isRequired,label:l.a.string.isRequired};var Be=Xe;function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(){return(Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function We(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?We(Object(n),!0).forEach(function(e){Qe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(){}var rt=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=$e(o).call(this,e))||"object"!==Ge(r)&&"function"!=typeof r?et(n):r).changeHandler=t.changeHandler.bind(et(t)),t.submitHandler=t.submitHandler.bind(et(t)),t.titleField=t.titleField.bind(et(t)),t.descriptionField=t.descriptionField.bind(et(t)),t.assetsDirField=t.assetsDirField.bind(et(t)),t.state={loading:!1,done:!1,error:!1,form:{title:"",description:"",assets_dir:""}},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(o,y["Component"]),e=o,(t=[{key:"componentDidMount",value:function(){var e=this.props.project;e&&this.setState({form:{title:e.title,description:e.description,assets_dir:e.assets_dir}})}},{key:"changeHandler",value:function(e){var t=e.target,n=t.name,r=t.value;this.setState({form:ze({},this.state.form,Qe({},n,r))})}},{key:"titleField",value:function(e){var t=this.state,n=t.form,r=t.error;return h.a.createElement(qe,Je({},e,{type:"text",name:"title",label:"Title",error:r,id:"project-title",value:n.title,placeholder:"Project title",title:"Prject Name",helpText:"Project name/title",onChange:this.changeHandler}))}},{key:"descriptionField",value:function(e){var t=this.state,n=t.form,r=t.error;return h.a.createElement(Be,Je({},e,{error:r,id:"project-story",label:"Description",name:"description",placeholder:"Project description",title:"Project Description",value:n.description,onChange:this.changeHandler,helpText:"A little description about this project."}))}},{key:"assetsDirField",value:function(e){var t=this.state,n=t.form,r=t.error;return h.a.createElement(qe,Je({},e,{type:"text",name:"assets_dir",label:"Assets Directory",error:r,id:"project-assets",value:n.assets_dir,placeholder:"Assets Directory",title:"Assets Directory",helpText:"Path of a directory for assets",onChange:this.changeHandler}))}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault();var n=this.props,r=n.onSuccess,o=n.onError,a=n.addProject,i=n.updateProject,c=n.project;(c?i:a)({getPayload:function(){return t.state.form},oldPayload:function(){return c},onSuccess:function(){t.setState({loading:!1,done:!0},r)},onError:function(e){t.setState({error:f()(e,"error.response.data",!0),loading:!1},o)}}),this.setState({loading:!0,error:!1})}},{key:"render",value:function(){return this.props.children(ze({},this.state,{onChange:this.changeHandler,onSubmit:this.submitHandler,TitleField:this.titleField,DescriptionField:this.descriptionField,AssetsDirField:this.assetsDirField}))}}])&&Ye(e.prototype,t),n&&Ye(e,n),o}();rt.defaultProps={onSuccess:nt,onError:nt},rt.propTypes={onSuccess:l.a.func,onError:l.a.func};var ot={addProject:function(n){return function(t){Q.projects.post(n.getPayload()).then(function(e){n.onSuccess(e),t({type:T,payload:{data:e.getData()}})}).catch(function(e){console.error(e),n.onError(e)})}},updateProject:function(n){return function(t){Q.project.put(n.getPayload(),{alias:n.oldPayload().alias}).then(function(e){n.onSuccess(e),t({type:S,payload:{data:e.getData(),oldData:n.oldPayload()}})}).catch(function(e){console.error(e),n.onError(e)})}}},at=Object(i.b)(null,ot)(rt);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dt=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,r=lt(o).call(this,e),(t=!r||"object"!==it(r)&&"function"!=typeof r?st(n):r).containerRef=null,t.containerRefHandler=function(e){return t.containerRef=e},t.docClickHandler=t.docClickHandler.bind(st(t)),t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(o,y["Component"]),e=o,(t=[{key:"docClickHandler",value:function(e){var t=e.target;this.containerRef.contains(t)||(0,this.props.closeEditView)()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.docClickHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickHandler)}},{key:"render",value:function(){var e=this.props,t=e.project,a=e.closeEditView;return h.a.createElement("div",{ref:this.containerRefHandler},h.a.createElement(at,{project:t,onSuccess:a},function(e){var t=e.TitleField,n=e.DescriptionField,r=e.AssetsDirField,o=e.onSubmit;return h.a.createElement("form",{onSubmit:o},h.a.createElement("hr",null),h.a.createElement(t,null),h.a.createElement(n,null),h.a.createElement(r,null),h.a.createElement("hr",null),h.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:a},"Close"),h.a.createElement("button",{className:"btn btn-success pull-right",type:"submit",onClick:o},"Save Changes"),h.a.createElement("hr",null))}))}}])&&ct(e.prototype,t),n&&ct(e,n),o}();dt.propTypes={};var pt=dt;function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach(function(e){bt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,r=gt(o).call(this,e),(t=!r||"object"!==ft(r)&&"function"!=typeof r?vt(n):r).inputRef=null,t.containerRef=null,t.inputRefHandler=function(e){return t.inputRef=e},t.containerRefHandler=function(e){return t.containerRef=e},t.focusAtInput=t.focusAtInput.bind(vt(t)),t.onChangeHandler=t.onChangeHandler.bind(vt(t)),t.handleKeyPress=t.handleKeyPress.bind(vt(t)),t.saveTodo=t.saveTodo.bind(vt(t)),t.docClickHandler=t.docClickHandler.bind(vt(t)),t.state={form:{title:"",story:""},error:!1},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(o,y["Component"]),e=o,(t=[{key:"docClickHandler",value:function(e){this.containerRef.contains(e.target)||(0,this.props.closeView)()}},{key:"onChangeHandler",value:function(e){var t=e.target,n=t.name,r=t.value;this.setState({form:ht({},this.state.form,bt({},n,r))})}},{key:"saveTodo",value:function(){var n=this,e=this.props,t=e.addTodo,r=e.editTodo,o=e.closeView,a=e.project,i=e.todo,c=e.parent,l=i?r:t,s=i?o:function(){n.setState({form:{title:"",story:""}},n.focusAtInput)};l({payload:ht({},this.state.form,{project:a.alias},i?{alias:i.alias}:{},{},c?{parent:c.alias}:{}),onSuccess:s,onError:function(e){var t=e.error;n.setState({error:t.response.data})}})}},{key:"handleKeyPress",value:function(e){var t=this.props.closeView,n=e.target.tagName,r="Enter"==e.key&&("INPUT"==n||"TEXTAREA"==n&&e.ctrlKey);return"Escape"==e.key?t():r?this.saveTodo():void 0}},{key:"focusAtInput",value:function(){this.inputRef.focus()}},{key:"componentDidMount",value:function(){this.focusAtInput(),document.addEventListener("click",this.docClickHandler);var e=this.props.todo;e&&this.setState({form:{title:e.title,story:e.story}})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickHandler)}},{key:"render",value:function(){var e=this.props,t=e.closeView,n=e.todo,r=this.state,o=r.form,a=r.error;return h.a.createElement("div",{className:"add-todo"+(n?" edit-view":""),ref:this.containerRefHandler},h.a.createElement("div",{className:"menu-container left"},h.a.createElement("span",{title:"close",className:"menu",onClick:t},h.a.createElement("i",{className:"fa fa-window-close"})),h.a.createElement("span",{title:"Save",className:"menu",onClick:this.saveTodo},h.a.createElement("i",{className:"fa fa-check"}))),h.a.createElement("input",{type:"text",name:"title",title:"Title",value:o.title,placeholder:"Todo",autoComplete:"off",ref:this.inputRefHandler,onKeyDown:this.handleKeyPress,onChange:this.onChangeHandler}),h.a.createElement(Le,{error:a,name:"title",id:"title"}),h.a.createElement("textarea",{className:"mt-1",placeholder:"Story",name:"story",title:"Story",autoComplete:"off",value:o.story,onKeyDown:this.handleKeyPress,onChange:this.onChangeHandler}))}}])&&mt(e.prototype,t),n&&mt(e,n),o}();jt.propTypes={};var wt={addTodo:function(l){return function(t){var e,n,r,o,a,i,c=Ae({},l.payload,{position:(e=l.payload,n=e.project,r=e.parent,o=ge.getState().project.prm,a=r?o.getTodo({alias:r}).subTask:o.getProject({alias:n}).todoList,i=1,a.forEach(function(e){e.position>=i&&(i=e.position+1)}),i)});Q.todos.post(c).then(function(e){l.onSuccess&&l.onSuccess(e),t({type:_,payload:{data:e.getData()}})}).catch(function(e){console.error(e),l.onError&&l.onError(e)})}},editTodo:function(n){return function(t){var e=n.payload;Q.todo.patch(e,{alias:e.alias}).then(function(e){t({type:x,payload:{data:e.getData()}}),n.onSuccess(e)}).catch(function(e){console.error(e)})}}},Et=Object(i.b)(null,wt)(jt);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(){}var _t=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=Dt(o).call(this,e))||"object"!==Pt(r)&&"function"!=typeof r?St(n):r).onDragStartHandler=t.onDragStartHandler.bind(St(t)),t.onDragOverHandler=t.onDragOverHandler.bind(St(t)),t.onDragEnterHandler=t.onDragEnterHandler.bind(St(t)),t.onDragLeaveHandler=t.onDragLeaveHandler.bind(St(t)),t.onDragEndHandler=t.onDragEndHandler.bind(St(t)),t.onDropHandler=t.onDropHandler.bind(St(t)),t.dragOverCount=0,t.onDragEnterId=null,t.onDragLeaveId=null,t.dropZoneHandlers={onDragOver:t.onDragOverHandler,onDragEnter:t.onDragEnterHandler,onDragLeave:t.onDragLeaveHandler,onDrop:t.onDropHandler},t.state={dragging:!1,dropZoneEnabled:!1},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(o,y["Component"]),e=o,(t=[{key:"onDragStartHandler",value:function(e){this.setState({dragging:!0}),this.props.onDragStart(e)}},{key:"onDragOverHandler",value:function(e){e.preventDefault(),this.props.onDragOver(e)}},{key:"onDragEnterHandler",value:function(){var e=this;this.state.dragging||(0==this.dragOverCount&&(null!=this.onDragLeaveId?(clearTimeout(this.onDragLeaveId),this.onDragLeaveId=null):this.onDragEnterId=setTimeout(function(){e.setState({dropZoneEnabled:!0}),e.props.onDragEnter(),e.onDragEnterId=null},this.props.delay)),this.dragOverCount++)}},{key:"onDragLeaveHandler",value:function(){var e=this;this.state.dragging||(this.dragOverCount--,0==this.dragOverCount&&(null!=this.onDragEnterId?(clearTimeout(this.onDragEnterId),this.onDragEnterId=null):this.onDragLeaveId=setTimeout(function(){e.setState({dropZoneEnabled:!1}),e.props.onDragLeave(),e.onDragLeaveId=null},this.props.delay)))}},{key:"onDragEndHandler",value:function(e){this.setState({dragging:!1}),this.props.onDragEnd(e)}},{key:"onDropHandler",value:function(e){this.dragOverCount=0,this.setState({dropZoneEnabled:!1}),this.props.onDrop(e)}},{key:"render",value:function(){var e=this.state,t=e.dropZoneEnabled,n=e.dragging;return this.props.children({dragging:n,dropZoneEnabled:t,dropZoneHandlers:this.dropZoneHandlers,onDragStartHandler:this.onDragStartHandler,onDragOverHandler:this.onDragOverHandler,onDragEnterHandler:this.onDragEnterHandler,onDragLeaveHandler:this.onDragLeaveHandler,onDragEndHandler:this.onDragEndHandler,onDropHandler:this.onDropHandler})}}])&&Tt(e.prototype,t),n&&Tt(e,n),o}();_t.propTypes={onDragStart:l.a.func,onDragOver:l.a.func,onDragEnter:l.a.func,onDragLeave:l.a.func,onDragEnd:l.a.func,onDrop:l.a.func,delay:l.a.number},_t.defaultProps={onDragStart:Ht,onDragOver:Ht,onDragEnter:Ht,onDragLeave:Ht,onDragEnd:Ht,onDrop:Ht,delay:500};var xt=_t;function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function At(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vt=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=It(o).call(this,e))||"object"!==Ct(r)&&"function"!=typeof r?Rt(n):r).onDropHandler=t.onDropHandler.bind(Rt(t)),t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(o,y["Component"]),e=o,(t=[{key:"onDropHandler",value:function(e){this.props.onDrop(e),this.props.onDropHandler(e)}},{key:"render",value:function(){var e=this.props,t=e.enable,n=(e.onDropHandler,At(e,["enable","onDropHandler"]));return t?h.a.createElement("div",Mt({},n,{className:"drop-zone",onDrop:this.onDropHandler})):null}}])&&Nt(e.prototype,t),n&&Nt(e,n),o}();Vt.propTypes={onDropHandler:l.a.func},Vt.defaultProps={onDropHandler:function(){}};var Ft=Vt;function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=Kt(o).call(this,e))||"object"!==Ut(r)&&"function"!=typeof r?Xt(n):r).deleteTodo=t.deleteTodo.bind(Xt(t)),t.toggleDetailsViewHandler=t.toggleDetailsViewHandler.bind(Xt(t)),t.toggleEditView=t.toggleEditView.bind(Xt(t)),t.toggleAddView=t.toggleAddView.bind(Xt(t)),t.toggleStatus=t.toggleStatus.bind(Xt(t)),t.onDragStartHandler=t.onDragStartHandler.bind(Xt(t)),t.onDragEndHandler=t.onDragEndHandler.bind(Xt(t)),t.onDropUp=t.onDropUp.bind(Xt(t)),t.onDropDown=t.onDropDown.bind(Xt(t)),t.onDropChild=t.onDropChild.bind(Xt(t)),t.state={addView:!1,editView:!1,detailsView:!0,subMenuExpended:!1},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(o,y["Component"]),e=o,(t=[{key:"onDragStartHandler",value:function(){this.props.updateDraggingTodo(this.props.todo)}},{key:"onDragEndHandler",value:function(){this.props.updateDraggingTodo(null)}},{key:"onDropUp",value:function(){this.props.onDropTodo({todoToMove:this.props.draggingTodo,referenceTodo:this.props.todo,direction:ke})}},{key:"onDropDown",value:function(){this.props.onDropTodo({todoToMove:this.props.draggingTodo,referenceTodo:this.props.todo,direction:He})}},{key:"onDropChild",value:function(){this.props.onDropTodo({todoToMove:this.props.draggingTodo,referenceTodo:this.props.todo,direction:_e})}},{key:"deleteTodo",value:function(){if(confirm("Do you want to delete this?")){var e=this.props,t=e.deleteTodo;t(e.todo)}}},{key:"toggleDetailsViewHandler",value:function(){this.setState(function(e){return{detailsView:!e.detailsView}})}},{key:"toggleEditView",value:function(){this.setState(function(e){return{editView:!e.editView}})}},{key:"toggleAddView",value:function(){this.setState(function(e){return{addView:!e.addView}})}},{key:"toggleStatus",value:function(e){this.props.toggleTodoStatus({alias:this.props.todo.alias,done:e.target.checked})}},{key:"render",value:function(){var t=this,e=this.props,n=e.todo,r=e.project,o=n.title,a=n.rq,i=n.story,c=n.subTask,l=n.progress,s=n.done,u=this.state,d=u.addView,p=u.editView,f=u.detailsView;u.subMenuExpended;return h.a.createElement(xt,{onDragStart:this.onDragStartHandler,onDragEnd:this.onDragEndHandler},function(e){return h.a.createElement(y.Fragment,null,h.a.createElement(Ft,qt({},e.dropZoneHandlers,{onDropHandler:t.onDropUp,enable:e.dropZoneEnabled})),!p&&h.a.createElement("div",{draggable:!0,className:"todo-short-info",onDragEnd:e.onDragEndHandler,onDragStart:e.onDragStartHandler},h.a.createElement("div",{className:"left menu-container"},h.a.createElement("span",{className:"menu"},h.a.createElement("i",{className:"fa fa-angle-double-".concat(f?"down":"right")})),h.a.createElement("span",{className:"menu checkbox"},h.a.createElement("input",{type:"checkbox",checked:s,onChange:t.toggleStatus}))),h.a.createElement("div",{className:"todo-info"+(s?" done":"")+(e.dropZoneEnabled?" over":"")},h.a.createElement("div",qt({title:i},e.dropZoneHandlers,{className:"short-view title",onDoubleClick:t.toggleEditView,onClick:t.toggleDetailsViewHandler}),h.a.createElement("span",{className:"text-muted"},"[#",a," (",l,"%)] "),h.a.createElement("span",null,o)),f&&h.a.createElement("div",{className:"story text-muted"},i.split("\n").map(function(e){return h.a.createElement("p",{className:"mb-0",key:e},e)})),h.a.createElement(Ft,qt({},e.dropZoneHandlers,{onDropHandler:t.onDropChild,enable:e.dropZoneEnabled}))),d&&h.a.createElement(Et,{parent:n,project:r,closeView:t.toggleAddView}),h.a.createElement("div",{className:"right menu-container"},h.a.createElement("span",{className:"menu",onClick:t.toggleAddView},d&&h.a.createElement("i",{title:"Close",className:"fa fa-window-close"})||h.a.createElement("i",{title:"Add Subtask",className:"fa fa-plus"})),h.a.createElement("span",{onClick:t.toggleEditView,className:"menu"},h.a.createElement("i",{title:"Edit",className:"fa fa-edit"})),h.a.createElement("span",{title:"Delete",onClick:t.deleteTodo,className:"menu"},h.a.createElement("i",{className:"fa fa-trash"})))),p&&h.a.createElement(Et,{todo:n,project:r,closeView:t.toggleEditView}),c&&0<c.length&&h.a.createElement("div",{className:"todo-list"},h.a.createElement(Qt,{project:r,todoList:c})),h.a.createElement(Ft,qt({},e.dropZoneHandlers,{onDropHandler:t.onDropDown,enable:e.dropZoneEnabled})))})}}])&&Zt(e.prototype,t),n&&Zt(e,n),o}();Gt.propTypes={todo:l.a.shape({title:l.a.string.isRequired}).isRequired};function Jt(e){var t=e.todoList,n=e.project;return t.map(function(e){return h.a.createElement(zt,{key:e.alias,todo:e,project:n,updatedAt:e.updatedAt})})}var Wt={deleteTodo:function(n){return function(t){Q.todo.delete({alias:n.alias}).then(function(e){t({type:C,payload:{data:n,response:e}})}).catch(function(e){console.error(e)})}},updateDraggingTodo:function(t){return function(e){e({type:M,payload:{data:t}})}},onDropTodo:function(u){return function(t){var e=u.direction,n=u.referenceTodo,r=u.todoToMove,o=ge.getState().project.prm;if(n.project==r.project){var a,i,c,l=De(u);try{i={direction:e,todoToMove:r,referenceTodo:n,targetTodoList:n.parent?o.getTodo({alias:n.parent}).subTask:o.getProject({alias:n.project}).todoList},c=i.direction,a=Ce[c](i)}catch(e){if(e instanceof xe)return;throw e}var s=l?{}:{parent:e==_e?n.alias:n.parent?n.parent:null};Q.todo.patch(Ae({alias:r.alias,position:a},s),{alias:r.alias}).then(function(e){t({type:A,payload:{data:e.getData()}})}).catch(function(e){console.error(e)})}}},toggleTodoStatus:function(e){return function(t){Q.todo.patch(e,{alias:e.alias}).then(function(e){t({type:x,payload:{data:e.getData()}})}).catch(function(e){console.error(e)})}}},zt=Object(i.b)(function(e){return{draggingTodo:e.project.draggingTodo}},Wt)(Gt);Jt.propTypes={};var Qt=Jt;function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=en(o).call(this,e))||"object"!==Yt(r)&&"function"!=typeof r?tn(n):r).toggleView=t.toggleView.bind(tn(t)),t.toggleEditView=t.toggleEditView.bind(tn(t)),t.deleteHandler=t.deleteHandler.bind(tn(t)),t.showTodoAddView=t.showTodoAddView.bind(tn(t)),t.hideTodoAddView=t.hideTodoAddView.bind(tn(t)),t.exportProject=t.exportProject.bind(tn(t)),t.importProject=t.importProject.bind(tn(t)),t.state={showTodoList:!1,editView:!1,todoAddView:!1},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(o,y["Component"]),e=o,(t=[{key:"showTodoAddView",value:function(){this.setState({todoAddView:!0})}},{key:"hideTodoAddView",value:function(){this.setState({todoAddView:!1})}},{key:"toggleView",value:function(){var e=this.state.showTodoList,t=this.props,n=t.getTodos,r=t.project;e||n(r),this.setState({showTodoList:!e})}},{key:"toggleEditView",value:function(){this.setState(function(e){return{editView:!e.editView}})}},{key:"exportProject",value:function(){var e=this.props,t=e.exportProject;t(e.project.alias)}},{key:"importProject",value:function(){var e=this.props,t=e.importProject;t(e.project.alias)}},{key:"deleteHandler",value:function(){if(confirm("Do you want to delete this project?")){var e=this.props,t=e.project;(0,e.deleteProject)(t)}}},{key:"render",value:function(){var e=this.state,t=e.showTodoList,n=e.editView,r=e.todoAddView,o=this.props.project,a=o.title,i=o.description,c=(o.id,o.todoList),l=o.progress;return h.a.createElement("div",{className:"project-view"},h.a.createElement("div",{className:"left menu-container"},h.a.createElement("span",{className:"menu"},h.a.createElement("i",{className:"fa fa-angle-double-".concat(t?"down":"right")}))),h.a.createElement("div",{className:"short-info"},h.a.createElement("div",{className:"title",onClick:this.toggleView},h.a.createElement("span",{className:"text-muted"},l?"[".concat(l,"%]"):""," "),h.a.createElement("span",{title:i},a)),n&&h.a.createElement(pt,{project:o,closeEditView:this.toggleEditView}),r&&h.a.createElement(Et,{project:o,closeView:this.hideTodoAddView}),t&&h.a.createElement(Qt,{project:o,todoList:c})),h.a.createElement("div",{className:"right menu-container"},h.a.createElement("span",{className:"menu",onClick:this.showTodoAddView},r&&h.a.createElement("i",{title:"Close",className:"fa fa-window-close"})||h.a.createElement("i",{title:"Add Todo",className:"fa fa-plus"})),h.a.createElement("span",{className:"menu",onClick:this.toggleEditView},n&&h.a.createElement("i",{title:"Close",className:"fa fa-window-close"})||h.a.createElement("i",{title:"Edit Project",className:"fa fa-edit"})),h.a.createElement("span",{className:"menu",title:"Export Project into assets",onClick:this.exportProject},h.a.createElement("i",{className:"fa fa-download"})),h.a.createElement("span",{className:"menu",title:"Import Project from assets",onClick:this.importProject},h.a.createElement("i",{className:"fa fa-upload"})),h.a.createElement("span",{className:"menu",title:"Delete Project",onClick:this.deleteHandler},h.a.createElement("i",{className:"fa fa-trash"}))))}}])&&$t(e.prototype,t),n&&$t(e,n),o}();rn.propTypes={};var on=rn;function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dn=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ln(this,sn(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(e,y["Component"]),t=e,(n=[{key:"componentDidMount",value:function(){this.props.getProjectList()}},{key:"render",value:function(){var t=this,e=this.props.projectList;return h.a.createElement("div",{id:"todo-list-container"},e.map(function(e){return h.a.createElement(on,{key:e.alias,updatedAt:e.updatedAt,project:e,getTodos:t.props.getTodos,deleteProject:t.props.deleteProject,exportProject:t.props.exportProject,importProject:t.props.importProject})}))}}])&&cn(t.prototype,n),r&&cn(t,r),e}(),pn={getTodos:Ie,getProjectList:function(){return function(t){Q.projects.get().then(function(e){t({type:k,payload:{data:e.getData()}})}).catch(function(e){console.error(e)})}},deleteProject:function(n){return function(t){Q.project.delete({alias:n.alias}).then(function(e){t({type:D,payload:{data:n,response:e}})}).catch(function(e){console.error(e)})}},exportProject:function(t){return function(e){Q.projectExport.get({alias:t}).catch(function(e){console.error(e)})}},importProject:function(t){return function(e){Q.projectImport.get({alias:t}).then(function(){Ie({alias:t})(e)}).catch(function(e){console.error(e)})}}},fn=Object(i.b)(function(e){return{projectList:e.project.list}},pn)(dn);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=e.id;return e.delay,function(o){var e=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mn(this,gn(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(e,y["Component"]),t=e,(n=[{key:"componentDidMount",value:function(){this.props.showModalHandler()}},{key:"render",value:function(){var e=this.props,t=(e.showModalHandler,hn(e,["showModalHandler"]));return h.a.createElement(o,t)}}])&&bn(t.prototype,n),r&&bn(t,r),e}();return wn[t]=e}}function jn(e){var t=e.show;return h.a.createElement("div",{className:"modal-backdrop fade"+(t?" show":"")})}var wn={};function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xn=function(){function o(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(r=kn(o).call(this,e))||"object"!==En(r)&&"function"!=typeof r?Hn(n):r).mountedModalsId=[],t.mountModal=t.mountModal.bind(Hn(t)),t.showModal=t.showModal.bind(Hn(t)),t.closeModal=t.closeModal.bind(Hn(t)),t.updateModals=t.updateModals.bind(Hn(t)),t.docClickHandler=t.docClickHandler.bind(Hn(t)),t.state={MountedModals:[]},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(o,y["Component"]),e=o,(t=[{key:"updateModals",value:function(e){var t=this.state.MountedModals;this.setState({MountedModals:Dn(t)},e||function(){})}},{key:"docClickHandler",value:function(e){var t=this.state.MountedModals;if(0!=t.length){var n=t[t.length-1];if(n.ref)if(n.show&&n.fadeEffect)e.target==n.ref&&n.closeModalHandler()}}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.docClickHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.docClickHandler)}},{key:"showModal",value:function(e){var r=this,o=e.id;return function(){var e=r.state.MountedModals,t=r.props.delay;if(r.mountedModalsId.includes(o)){var n=e.find(function(e){return e.id==o});n.show=!0,r.updateModals(function(){setTimeout(function(){n.fadeEffect=!0,r.updateModals()},t)})}}}},{key:"closeModal",value:function(e){var r=this,o=e.id;return function(){var e=r.state.MountedModals,t=r.props.delay;if(r.mountedModalsId.includes(o)){var n=e.find(function(e){return e.id==o});n.fadeEffect=!1,r.updateModals(function(){setTimeout(function(){n.show=!1,r.updateModals(function(){r.unMountModal({id:o})})},t)})}}}},{key:"unMountModal",value:function(e){var t=e.id,n=this.state.MountedModals;this.setState({MountedModals:n.filter(function(e){return e.id!=t})}),this.mountedModalsId.splice(this.mountedModalsId.indexOf(t),1)}},{key:"mountModal",value:function(e){var t=this.state.MountedModals,n=e.id,r=e.targetModal;if(!this.mountedModalsId.includes(n)){this.mountedModalsId.push(n);var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pn(Object(n),!0).forEach(function(e){Tn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e,{Modal:wn[r],show:!1,fadeEffect:!1,ref:null,refHandler:function(e){return o.ref=e},showModalHandler:this.showModal({id:n}),closeModalHandler:this.closeModal({id:n})});this.setState({MountedModals:[].concat(Dn(t),[o])})}}},{key:"componentDidUpdate",value:function(e){var t=this.props.modals.activeModal;e.modals.activeModal!=t&&t&&this.mountModal(t)}},{key:"render",value:function(){var e=this.state.MountedModals,s=this.props.modals;return e.map(function(e){var t=e.id,n=e.backDrop,r=e.refHandler,o=e.show,a=e.fadeEffect,i=e.closeModalHandler,c=e.showModalHandler,l=e.Modal;return h.a.createElement(y.Fragment,{key:t},h.a.createElement(l,{modal:s.data[t],modalShow:o,modalFadeIn:a,modalClose:i,modalRefHandler:r,showModalHandler:c}),n&&h.a.createElement(jn,{show:o}))})}}])&&Sn(e.prototype,t),n&&Sn(e,n),o}();xn.propTypes={},xn.defaultProps={delay:200};var Cn=Object(i.b)(function(e){return{modals:e.modals}})(xn);function Mn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function In(e){var l=e.modalClose;return h.a.createElement(at,{onSuccess:l},function(e){var t=e.loading,n=e.done,r=e.error,o=e.onSubmit,a=e.TitleField,i=e.DescriptionField,c=e.AssetsDirField;return h.a.createElement("div",{className:"modal-dialog",role:"document"},h.a.createElement("div",{className:"modal-content"},h.a.createElement("div",{className:"modal-header"},h.a.createElement("h5",{className:"modal-title"},"Add Project"),h.a.createElement("button",{type:"button",className:"close",onClick:l,"aria-label":"Close"},h.a.createElement("span",{"aria-hidden":"true"},""))),h.a.createElement("div",{className:"modal-body"},h.a.createElement("form",{onSubmit:o},h.a.createElement(a,null),h.a.createElement(i,null),h.a.createElement(c,null))),h.a.createElement("div",{className:"modal-footer"},h.a.createElement("button",{type:"button",onClick:l,className:"btn btn-secondary mr-auto","data-dismiss":"modal"},"Close"),h.a.createElement("button",{type:"button",className:"btn ".concat(r?"btn-danger":"btn-primary"),onClick:o},t&&h.a.createElement("span",null,h.a.createElement("span",{role:"status","aria-hidden":"true",className:"spinner-border spinner-border-sm"})," Saving...")||n&&h.a.createElement("span",null,h.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"})," Done")||r&&h.a.createElement("span",null,"Try again")||h.a.createElement("span",null,"Save changes")))))})}var Rn=function(e){var t=e.id,n=Nn(e,["id"]);return function(o){return On(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mn(Object(n),!0).forEach(function(e){An(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({id:t},n))(function(e){var t=e.modalFadeIn,n=e.modalShow,r=e.modalRefHandler;return h.a.createElement("div",{className:"modal fade"+(t?" show":"")+(n?" d-block":""),ref:r},h.a.createElement(o,e))})}};In.propTypes={};function Ln(){return h.a.createElement(y.Fragment,null,h.a.createElement(fn,null),h.a.createElement(u,null),h.a.createElement(Cn,null))}Rn({id:"project"})(In);Ln.propTypes={};var Vn=Ln;!function(e){var t=document.querySelector('head link[rel="shortcut icon"]'),n="".concat("/static/").concat(e);if(t)t.href=n;else{var r=document.createElement("link");r.rel="shortcut icon",r.type="image/x-icon",r.href=n,document.head.appendChild(r)}}("favicon.ico"),a.a.render(h.a.createElement(function(){return h.a.createElement(i.a,{store:me},h.a.createElement(Vn,null))},null),document.getElementById("app"))},1:function(e,t,n){e.exports=n("./app/index.js")}},[[1,0,6,1,16,20,12,2,14,15,13,19,21,23,4,5,9,10,11,18,17]]]);